<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="730px" preserveAspectRatio="none" style="width:445px;height:730px;" version="1.1" viewBox="0 0 445 730" width="445px" zoomAndPan="magnify"><defs><filter height="300%" id="fz38t2peldg6f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="207" x="117" y="29.4023">Manual Route Discovery</text><rect fill="#FFFFFF" filter="url(#fz38t2peldg6f)" height="189.5313" style="stroke:#000000;stroke-width:2.0;" width="401" x="20" y="135.1992"/><rect fill="#FFFFFF" filter="url(#fz38t2peldg6f)" height="133.2207" style="stroke:#000000;stroke-width:2.0;" width="381" x="30" y="184.5098"/><rect fill="#FFFFFF" height="39.9551" style="stroke:none;stroke-width:1.0;" width="381" x="30" y="226.8203"/><rect fill="#FFFFFF" height="50.9551" style="stroke:none;stroke-width:1.0;" width="381" x="30" y="266.7754"/><rect fill="#FFFFFF" filter="url(#fz38t2peldg6f)" height="275.752" style="stroke:#000000;stroke-width:2.0;" width="421" x="10" y="338.7305"/><rect fill="#FFFFFF" filter="url(#fz38t2peldg6f)" height="244.4414" style="stroke:#000000;stroke-width:2.0;" width="401" x="20" y="363.041"/><rect fill="#FFFFFF" filter="url(#fz38t2peldg6f)" height="213.1309" style="stroke:#000000;stroke-width:2.0;" width="381" x="30" y="387.3516"/><rect fill="#FFFFFF" height="39.9551" style="stroke:none;stroke-width:1.0;" width="381" x="30" y="429.6621"/><rect fill="#FFFFFF" height="39.9551" style="stroke:none;stroke-width:1.0;" width="381" x="30" y="469.6172"/><rect fill="#FFFFFF" height="39.9551" style="stroke:none;stroke-width:1.0;" width="381" x="30" y="509.5723"/><rect fill="#FFFFFF" height="50.9551" style="stroke:none;stroke-width:1.0;" width="381" x="30" y="549.5273"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="55" x2="55" y1="118.1992" y2="631.4824"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="230.5" x2="230.5" y1="118.1992" y2="631.4824"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="362" x2="362" y1="118.1992" y2="631.4824"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="24" x="40" y="115.6694">User</text><ellipse cx="55" cy="50.1992" fill="#44AAFF" filter="url(#fz38t2peldg6f)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M55,58.1992 L55,85.1992 M42,66.1992 L68,66.1992 M55,85.1992 L42,100.1992 M55,85.1992 L68,100.1992 " fill="none" filter="url(#fz38t2peldg6f)" style="stroke:#2277DD;stroke-width:2.0;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="24" x="40" y="638.9526">User</text><ellipse cx="55" cy="651.4824" fill="#44AAFF" filter="url(#fz38t2peldg6f)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M55,659.4824 L55,686.4824 M42,667.4824 L68,667.4824 M55,686.4824 L42,701.4824 M55,686.4824 L68,701.4824 " fill="none" filter="url(#fz38t2peldg6f)" style="stroke:#2277DD;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="201.5" y="115.2461">User DB</text><path d="M213,65.7109 C213,55.7109 231,55.7109 231,55.7109 C231,55.7109 249,55.7109 249,65.7109 L249,91.7109 C249,101.7109 231,101.7109 231,101.7109 C231,101.7109 213,101.7109 213,91.7109 L213,65.7109 " fill="#FEFECE" filter="url(#fz38t2peldg6f)" style="stroke:#000000;stroke-width:1.5;"/><path d="M213,65.7109 C213,75.7109 231,75.7109 231,75.7109 C231,75.7109 249,75.7109 249,65.7109 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="201.5" y="644.0176">User DB</text><path d="M213,656.9707 C213,646.9707 231,646.9707 231,646.9707 C231,646.9707 249,646.9707 249,656.9707 L249,682.9707 C249,692.9707 231,692.9707 231,692.9707 C231,692.9707 213,692.9707 213,682.9707 L213,656.9707 " fill="#FEFECE" filter="url(#fz38t2peldg6f)" style="stroke:#000000;stroke-width:1.5;"/><path d="M213,656.9707 C213,666.9707 231,666.9707 231,666.9707 C231,666.9707 249,666.9707 249,656.9707 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="323" y="115.2461">Partner DB</text><path d="M344,65.7109 C344,55.7109 362,55.7109 362,55.7109 C362,55.7109 380,55.7109 380,65.7109 L380,91.7109 C380,101.7109 362,101.7109 362,101.7109 C362,101.7109 344,101.7109 344,91.7109 L344,65.7109 " fill="#FEFECE" filter="url(#fz38t2peldg6f)" style="stroke:#000000;stroke-width:1.5;"/><path d="M344,65.7109 C344,75.7109 362,75.7109 362,75.7109 C362,75.7109 380,75.7109 380,65.7109 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="323" y="644.0176">Partner DB</text><path d="M344,656.9707 C344,646.9707 362,646.9707 362,646.9707 C362,646.9707 380,646.9707 380,656.9707 L380,682.9707 C380,692.9707 362,692.9707 362,692.9707 C362,692.9707 344,692.9707 344,682.9707 L344,656.9707 " fill="#FEFECE" filter="url(#fz38t2peldg6f)" style="stroke:#000000;stroke-width:1.5;"/><path d="M344,656.9707 C344,666.9707 362,666.9707 362,666.9707 C362,666.9707 380,666.9707 380,656.9707 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><path d="M20,135.1992 L381,135.1992 L381,142.1992 L371,152.1992 L20,152.1992 L20,135.1992 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="189.5313" style="stroke:#000000;stroke-width:2.0;" width="401" x="20" y="135.1992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="316" x="35" y="148.7676">User requests route via a specific tally/partner</text><line style="stroke:#000000;stroke-width:1.0;" x1="229" x2="219" y1="169.5098" y2="165.5098"/><line style="stroke:#000000;stroke-width:1.0;" x1="229" x2="219" y1="169.5098" y2="173.5098"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="230" y1="169.5098" y2="169.5098"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="152" x="62" y="164.98">Request route to specified peer</text><path d="M30,184.5098 L92,184.5098 L92,191.5098 L82,201.5098 L30,201.5098 L30,184.5098 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="133.2207" style="stroke:#000000;stroke-width:2.0;" width="381" x="30" y="184.5098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="45" y="198.0781">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="107" y="197.1445">[Pathway found locally]</text><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="65" y1="218.8203" y2="214.8203"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="65" y1="218.8203" y2="222.8203"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="230" y1="218.8203" y2="218.8203"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="83" x="72" y="214.2905">Notify user: good</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="411" y1="227.8203" y2="227.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="248" x="35" y="238.4551">[Existing route found (good, failed or stale)]</text><line style="stroke:#000000;stroke-width:1.0;" x1="360" x2="350" y1="258.7754" y2="254.7754"/><line style="stroke:#000000;stroke-width:1.0;" x1="360" x2="350" y1="258.7754" y2="262.7754"/><line style="stroke:#000000;stroke-width:1.0;" x1="231" x2="361" y1="258.7754" y2="258.7754"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="107" x="238" y="254.2456">Request route refresh</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="411" y1="267.7754" y2="267.7754"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="93" x="35" y="278.4102">[No route found]</text><line style="stroke:#000000;stroke-width:1.0;" x1="360" x2="350" y1="309.7305" y2="305.7305"/><line style="stroke:#000000;stroke-width:1.0;" x1="360" x2="350" y1="309.7305" y2="313.7305"/><line style="stroke:#000000;stroke-width:1.0;" x1="231" x2="361" y1="309.7305" y2="309.7305"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="86" x="238" y="294.2007">Create draft route</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="80" x="238" y="305.2007">Query upstream</text><path d="M10,338.7305 L248,338.7305 L248,345.7305 L238,355.7305 L10,355.7305 L10,338.7305 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="275.752" style="stroke:#000000;stroke-width:2.0;" width="421" x="10" y="338.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="193" x="25" y="352.2988">User requests any/all routes</text><path d="M20,363.041 L94,363.041 L94,370.041 L84,380.041 L20,380.041 L20,363.041 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="244.4414" style="stroke:#000000;stroke-width:2.0;" width="401" x="20" y="363.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="35" y="376.6094">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="226" x="109" y="375.6758">[Over all user's tallies with lift capacity]</text><path d="M30,387.3516 L92,387.3516 L92,394.3516 L82,404.3516 L30,404.3516 L30,387.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="213.1309" style="stroke:#000000;stroke-width:2.0;" width="381" x="30" y="387.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="45" y="400.9199">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="150" x="107" y="399.9863">[Destination found locally]</text><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="65" y1="421.6621" y2="417.6621"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="65" y1="421.6621" y2="425.6621"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="230" y1="421.6621" y2="421.6621"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="90" x="72" y="417.1323">Update user: good</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="411" y1="430.6621" y2="430.6621"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="152" x="35" y="441.2969">[Current good route found]</text><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="65" y1="461.6172" y2="457.6172"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="65" y1="461.6172" y2="465.6172"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="230" y1="461.6172" y2="461.6172"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="90" x="72" y="457.0874">Update user: good</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="411" y1="470.6172" y2="470.6172"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="156" x="35" y="481.252">[Current failed route found]</text><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="65" y1="501.5723" y2="497.5723"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="65" y1="501.5723" y2="505.5723"/><line style="stroke:#000000;stroke-width:1.0;" x1="55" x2="230" y1="501.5723" y2="501.5723"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="91" x="72" y="497.0425">Update user: failed</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="411" y1="510.5723" y2="510.5723"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="196" x="35" y="521.207">[Stale route found (good or failed)]</text><line style="stroke:#000000;stroke-width:1.0;" x1="360" x2="350" y1="541.5273" y2="537.5273"/><line style="stroke:#000000;stroke-width:1.0;" x1="360" x2="350" y1="541.5273" y2="545.5273"/><line style="stroke:#000000;stroke-width:1.0;" x1="231" x2="361" y1="541.5273" y2="541.5273"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="107" x="238" y="536.9976">Request route refresh</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="411" y1="550.5273" y2="550.5273"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="141" x="35" y="561.1621">[No existing route found]</text><line style="stroke:#000000;stroke-width:1.0;" x1="360" x2="350" y1="592.4824" y2="588.4824"/><line style="stroke:#000000;stroke-width:1.0;" x1="360" x2="350" y1="592.4824" y2="596.4824"/><line style="stroke:#000000;stroke-width:1.0;" x1="231" x2="361" y1="592.4824" y2="592.4824"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="86" x="238" y="576.9526">Create draft route</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="80" x="238" y="587.9526">Query upstream</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="150" x="145.5" y="722.1504">Thu Mar 11 18:46:00 MST 2021</text><!--MD5=[9a7a7d8c8dd5f70f2f0c457c31867d05]
@startuml
!include common.puml
$title(Manual Route Discovery)
actor "User" as user
database "User DB" as userDB
database "Partner DB" as partDB
'collections "Other Peers on Network" as net

group User requests route via a specific tally/partner
  user		->>	userDB:		Request route to specified peer

  alt Pathway found locally
    userDB	->>	user:		Notify user: good
  else Existing route found (good, failed or stale)
    userDB	->>	partDB:		Request route refresh
  else No route found
    userDB	->>	partDB:		Create draft route\nQuery upstream
  end
end

group User requests any/all routes
  loop Over all user's tallies with lift capacity
    alt Destination found locally
      userDB ->>	user:		Update user: good
  
    else Current good route found
      userDB ->>	user:		Update user: good
    
    else Current failed route found
      userDB ->>	user:		Update user: failed
    
    else Stale route found (good or failed)
      userDB ->>	partDB:		Request route refresh

    else No existing route found
      userDB ->>	partDB:		Create draft route\nQuery upstream
    end
  end
end
  
@enduml

@startuml



skinparam backgroundColor fff
skinparam stereotypeCBackgroundColor 27d






skinparam circledCharacter {
  radius 8
  fontSize 11
  fontName Helvetica
}

skinparam class {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  attributeFontColor 333
  attributeFontSize 11
  attributeIconSize 11
}

skinparam actor {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam participant {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam collections {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam SequenceBox{
    backgroundColor e0e0e0
  borderColor cccccc
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam interface {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam component {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}



skinparam queue {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


skinparam usecase {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam activity {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam sequence {
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  lifeLineBorderColor 4af
  lifeLineBackgroundColor e0e0e0
}




skinparam state {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
  startColor 4af
  endColor 27d
}

skinparam note {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}







  title Manual Route Discovery
  footer Thu Mar 11 18:46:00 MST 2021
actor "User" as user
database "User DB" as userDB
database "Partner DB" as partDB

group User requests route via a specific tally/partner
  user		->>	userDB:		Request route to specified peer

  alt Pathway found locally
    userDB	->>	user:		Notify user: good
  else Existing route found (good, failed or stale)
    userDB	->>	partDB:		Request route refresh
  else No route found
    userDB	->>	partDB:		Create draft route\nQuery upstream
  end
end

group User requests any/all routes
  loop Over all user's tallies with lift capacity
    alt Destination found locally
      userDB ->>	user:		Update user: good
  
    else Current good route found
      userDB ->>	user:		Update user: good
    
    else Current failed route found
      userDB ->>	user:		Update user: failed
    
    else Stale route found (good or failed)
      userDB ->>	partDB:		Request route refresh

    else No existing route found
      userDB ->>	partDB:		Create draft route\nQuery upstream
    end
  end
end
  
@enduml

PlantUML version 1.2021.00(Sun Jan 10 03:25:05 MST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>