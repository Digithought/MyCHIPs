<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="416px" preserveAspectRatio="none" style="width:458px;height:416px;" version="1.1" viewBox="0 0 458 416" width="458px" zoomAndPan="magnify"><defs><filter height="300%" id="f17vyo69cg35og" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="126" x="168" y="29.4023">Closing a Tally</text><rect fill="#FFFFFF" filter="url(#f17vyo69cg35og)" height="42.3105" style="stroke:#000000;stroke-width:2.0;" width="284.5" x="109.5" y="223.1992"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="32" x2="32" y1="118.1992" y2="317.5098"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="168.5" x2="168.5" y1="118.1992" y2="317.5098"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="345" x2="345" y1="118.1992" y2="317.5098"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="436" x2="436" y1="118.1992" y2="317.5098"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="48" x="5" y="115.6694">Originator</text><ellipse cx="32" cy="50.1992" fill="#44AAFF" filter="url(#f17vyo69cg35og)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M32,58.1992 L32,85.1992 M19,66.1992 L45,66.1992 M32,85.1992 L19,100.1992 M32,85.1992 L45,100.1992 " fill="none" filter="url(#f17vyo69cg35og)" style="stroke:#2277DD;stroke-width:2.0;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="48" x="5" y="324.98">Originator</text><ellipse cx="32" cy="337.5098" fill="#44AAFF" filter="url(#f17vyo69cg35og)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M32,345.5098 L32,372.5098 M19,353.5098 L45,353.5098 M32,372.5098 L19,387.5098 M32,372.5098 L45,387.5098 " fill="none" filter="url(#f17vyo69cg35og)" style="stroke:#2277DD;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="119.5" y="115.2461">Originator DB</text><path d="M151,65.7109 C151,55.7109 169,55.7109 169,55.7109 C169,55.7109 187,55.7109 187,65.7109 L187,91.7109 C187,101.7109 169,101.7109 169,101.7109 C169,101.7109 151,101.7109 151,91.7109 L151,65.7109 " fill="#FEFECE" filter="url(#f17vyo69cg35og)" style="stroke:#000000;stroke-width:1.5;"/><path d="M151,65.7109 C151,75.7109 169,75.7109 169,75.7109 C169,75.7109 187,75.7109 187,65.7109 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="119.5" y="330.0449">Originator DB</text><path d="M151,342.998 C151,332.998 169,332.998 169,332.998 C169,332.998 187,332.998 187,342.998 L187,368.998 C187,378.998 169,378.998 169,378.998 C169,378.998 151,378.998 151,368.998 L151,342.998 " fill="#FEFECE" filter="url(#f17vyo69cg35og)" style="stroke:#000000;stroke-width:1.5;"/><path d="M151,342.998 C151,352.998 169,352.998 169,352.998 C169,352.998 187,352.998 187,342.998 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="306" y="115.2461">Subject DB</text><path d="M327,65.7109 C327,55.7109 345,55.7109 345,55.7109 C345,55.7109 363,55.7109 363,65.7109 L363,91.7109 C363,101.7109 345,101.7109 345,101.7109 C345,101.7109 327,101.7109 327,91.7109 L327,65.7109 " fill="#FEFECE" filter="url(#f17vyo69cg35og)" style="stroke:#000000;stroke-width:1.5;"/><path d="M327,65.7109 C327,75.7109 345,75.7109 345,75.7109 C345,75.7109 363,75.7109 363,65.7109 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="306" y="330.0449">Subject DB</text><path d="M327,342.998 C327,332.998 345,332.998 345,332.998 C345,332.998 363,332.998 363,342.998 L363,368.998 C363,378.998 345,378.998 345,378.998 C345,378.998 327,378.998 327,368.998 L327,342.998 " fill="#FEFECE" filter="url(#f17vyo69cg35og)" style="stroke:#000000;stroke-width:1.5;"/><path d="M327,342.998 C327,352.998 345,352.998 345,352.998 C345,352.998 363,352.998 363,342.998 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="36" x="415" y="115.6694">Subject</text><ellipse cx="436" cy="50.1992" fill="#44AAFF" filter="url(#f17vyo69cg35og)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M436,58.1992 L436,85.1992 M423,66.1992 L449,66.1992 M436,85.1992 L423,100.1992 M436,85.1992 L449,100.1992 " fill="none" filter="url(#f17vyo69cg35og)" style="stroke:#2277DD;stroke-width:2.0;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="36" x="415" y="324.98">Subject</text><ellipse cx="436" cy="337.5098" fill="#44AAFF" filter="url(#f17vyo69cg35og)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M436,345.5098 L436,372.5098 M423,353.5098 L449,353.5098 M436,372.5098 L423,387.5098 M436,372.5098 L449,387.5098 " fill="none" filter="url(#f17vyo69cg35og)" style="stroke:#2277DD;stroke-width:2.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="167" x2="157" y1="145.1992" y2="141.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="167" x2="157" y1="145.1992" y2="149.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="32" x2="168" y1="145.1992" y2="145.1992"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="113" x="39" y="140.6694">Request tally be closed</text><line style="stroke:#000000;stroke-width:1.0;" x1="343" x2="333" y1="170.1992" y2="166.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="343" x2="333" y1="170.1992" y2="174.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="169" x2="344" y1="170.1992" y2="170.1992"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="152" x="176" y="165.6694">Mark as closing and notify peer</text><line style="stroke:#000000;stroke-width:1.0;" x1="345" x2="387" y1="195.1992" y2="195.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="387" x2="387" y1="195.1992" y2="208.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="346" x2="387" y1="208.1992" y2="208.1992"/><polygon fill="#000000" points="356,204.1992,346,208.1992,356,212.1992,352,208.1992" style="stroke:#000000;stroke-width:1.0;"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="77" x="352" y="190.6694">Mark as closing</text><path d="M109.5,223.1992 L183.5,223.1992 L183.5,230.1992 L173.5,240.1992 L109.5,240.1992 L109.5,223.1992 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="42.3105" style="stroke:#000000;stroke-width:2.0;" width="284.5" x="109.5" y="223.1992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="124.5" y="236.7676">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="113" x="198.5" y="235.834">[until balance == 0]</text><polygon fill="#000000" points="180,253.5098,170,257.5098,180,261.5098,176,257.5098" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="333,253.5098,343,257.5098,333,261.5098,337,257.5098" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="174" x2="339" y1="257.5098" y2="257.5098"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="81" x="186" y="252.98">Participate in lifts</text><path d="M79,277.5098 L79,298.5098 L431,298.5098 L431,287.5098 L421,277.5098 L79,277.5098 " fill="#E8E8EA" filter="url(#f17vyo69cg35og)" style="stroke:#202024;stroke-width:1.0;"/><path d="M421,277.5098 L421,287.5098 L431,287.5098 L421,277.5098 " fill="#E8E8EA" style="stroke:#202024;stroke-width:1.0;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="331" x="85" y="290.98">Tally marked as closing automatically closes when balance hits zero</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="145" x="158.5" y="408.1777">Thu Jul 01 15:51:30 MDT 2021</text><!--MD5=[d341565e2e88cbe18843fe59a3531f21]
@startuml
!include common.puml
$title(Closing a Tally)
actor "Originator" as prop
database "Originator DB" as propDB
database "Subject DB" as subjDB
actor "Subject" as subj

prop	->>	propDB:		Request tally be closed
propDB	->>	subjDB:		Mark as closing and notify peer
subjDB	->	subjDB:		Mark as closing
loop until balance == 0
 propDB <->	subjDB:		Participate in lifts
end loop

note over propDB, subjDB
  Tally marked as closing automatically closes when balance hits zero
end note

@enduml

@startuml



skinparam backgroundColor fff
skinparam stereotypeCBackgroundColor 27d






skinparam circledCharacter {
  radius 8
  fontSize 11
  fontName Helvetica
}

skinparam class {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  attributeFontColor 333
  attributeFontSize 11
  attributeIconSize 11
}

skinparam actor {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam participant {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam collections {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam SequenceBox{
    backgroundColor e0e0e0
  borderColor cccccc
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam interface {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam component {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}



skinparam queue {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


skinparam usecase {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam activity {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam sequence {
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  lifeLineBorderColor 4af
  lifeLineBackgroundColor e0e0e0
}




skinparam state {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
  startColor 4af
  endColor 27d
}

skinparam note {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}







  title Closing a Tally
  footer Thu Jul 01 15:51:30 MDT 2021
actor "Originator" as prop
database "Originator DB" as propDB
database "Subject DB" as subjDB
actor "Subject" as subj

prop	->>	propDB:		Request tally be closed
propDB	->>	subjDB:		Mark as closing and notify peer
subjDB	->	subjDB:		Mark as closing
loop until balance == 0
 propDB <->	subjDB:		Participate in lifts
end loop

note over propDB, subjDB
  Tally marked as closing automatically closes when balance hits zero
end note

@enduml

PlantUML version 1.2021.00(Sun Jan 10 03:25:05 MST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>