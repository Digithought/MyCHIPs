<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="792px" preserveAspectRatio="none" style="width:551px;height:792px;" version="1.1" viewBox="0 0 551 792" width="551px" zoomAndPan="magnify"><defs><filter height="300%" id="frv3z4klleytf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="158" x="194.5" y="29.4023">Chit Direct Invoice</text><rect fill="#FFFFFF" filter="url(#frv3z4klleytf)" height="454.8418" style="stroke:#000000;stroke-width:2.0;" width="527" x="10" y="221.1992"/><rect fill="#FFFFFF" filter="url(#frv3z4klleytf)" height="42.3105" style="stroke:#000000;stroke-width:2.0;" width="245.5" x="128.5" y="355.5098"/><rect fill="#FFFFFF" height="181.2656" style="stroke:none;stroke-width:1.0;" width="527" x="10" y="404.8203"/><rect fill="#FFFFFF" filter="url(#frv3z4klleytf)" height="42.3105" style="stroke:#000000;stroke-width:2.0;" width="194.5" x="20" y="426.7754"/><rect fill="#FFFFFF" height="89.9551" style="stroke:none;stroke-width:1.0;" width="527" x="10" y="586.0859"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="118.1992" y2="693.041"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="171.5" x2="171.5" y1="118.1992" y2="693.041"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="321" x2="321" y1="118.1992" y2="693.041"/><line style="stroke:#44AAFF;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="446.5" x2="446.5" y1="118.1992" y2="693.041"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="29" x="30" y="115.6694">Payor</text><ellipse cx="47.5" cy="50.1992" fill="#44AAFF" filter="url(#frv3z4klleytf)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M47.5,58.1992 L47.5,85.1992 M34.5,66.1992 L60.5,66.1992 M47.5,85.1992 L34.5,100.1992 M47.5,85.1992 L60.5,100.1992 " fill="none" filter="url(#frv3z4klleytf)" style="stroke:#2277DD;stroke-width:2.0;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="29" x="30" y="700.5112">Payor</text><ellipse cx="47.5" cy="713.041" fill="#44AAFF" filter="url(#frv3z4klleytf)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M47.5,721.041 L47.5,748.041 M34.5,729.041 L60.5,729.041 M47.5,748.041 L34.5,763.041 M47.5,748.041 L60.5,763.041 " fill="none" filter="url(#frv3z4klleytf)" style="stroke:#2277DD;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="138.5" y="115.2461">Payor DB</text><path d="M153.5,65.7109 C153.5,55.7109 171.5,55.7109 171.5,55.7109 C171.5,55.7109 189.5,55.7109 189.5,65.7109 L189.5,91.7109 C189.5,101.7109 171.5,101.7109 171.5,101.7109 C171.5,101.7109 153.5,101.7109 153.5,91.7109 L153.5,65.7109 " fill="#FEFECE" filter="url(#frv3z4klleytf)" style="stroke:#000000;stroke-width:1.5;"/><path d="M153.5,65.7109 C153.5,75.7109 171.5,75.7109 171.5,75.7109 C171.5,75.7109 189.5,75.7109 189.5,65.7109 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="138.5" y="705.5762">Payor DB</text><path d="M153.5,718.5293 C153.5,708.5293 171.5,708.5293 171.5,708.5293 C171.5,708.5293 189.5,708.5293 189.5,718.5293 L189.5,744.5293 C189.5,754.5293 171.5,754.5293 171.5,754.5293 C171.5,754.5293 153.5,754.5293 153.5,744.5293 L153.5,718.5293 " fill="#FEFECE" filter="url(#frv3z4klleytf)" style="stroke:#000000;stroke-width:1.5;"/><path d="M153.5,718.5293 C153.5,728.5293 171.5,728.5293 171.5,728.5293 C171.5,728.5293 189.5,728.5293 189.5,718.5293 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="279" y="115.2461">Receiver DB</text><path d="M303.5,65.7109 C303.5,55.7109 321.5,55.7109 321.5,55.7109 C321.5,55.7109 339.5,55.7109 339.5,65.7109 L339.5,91.7109 C339.5,101.7109 321.5,101.7109 321.5,101.7109 C321.5,101.7109 303.5,101.7109 303.5,91.7109 L303.5,65.7109 " fill="#FEFECE" filter="url(#frv3z4klleytf)" style="stroke:#000000;stroke-width:1.5;"/><path d="M303.5,65.7109 C303.5,75.7109 321.5,75.7109 321.5,75.7109 C321.5,75.7109 339.5,75.7109 339.5,65.7109 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="279" y="705.5762">Receiver DB</text><path d="M303.5,718.5293 C303.5,708.5293 321.5,708.5293 321.5,708.5293 C321.5,708.5293 339.5,708.5293 339.5,718.5293 L339.5,744.5293 C339.5,754.5293 321.5,754.5293 321.5,754.5293 C321.5,754.5293 303.5,754.5293 303.5,744.5293 L303.5,718.5293 " fill="#FEFECE" filter="url(#frv3z4klleytf)" style="stroke:#000000;stroke-width:1.5;"/><path d="M303.5,718.5293 C303.5,728.5293 321.5,728.5293 321.5,728.5293 C321.5,728.5293 339.5,728.5293 339.5,718.5293 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="44" x="421.5" y="115.6694">Receiver</text><ellipse cx="446.5" cy="50.1992" fill="#44AAFF" filter="url(#frv3z4klleytf)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M446.5,58.1992 L446.5,85.1992 M433.5,66.1992 L459.5,66.1992 M446.5,85.1992 L433.5,100.1992 M446.5,85.1992 L459.5,100.1992 " fill="none" filter="url(#frv3z4klleytf)" style="stroke:#2277DD;stroke-width:2.0;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="44" x="421.5" y="700.5112">Receiver</text><ellipse cx="446.5" cy="713.041" fill="#44AAFF" filter="url(#frv3z4klleytf)" rx="8" ry="8" style="stroke:#2277DD;stroke-width:2.0;"/><path d="M446.5,721.041 L446.5,748.041 M433.5,729.041 L459.5,729.041 M446.5,748.041 L433.5,763.041 M446.5,748.041 L459.5,763.041 " fill="none" filter="url(#frv3z4klleytf)" style="stroke:#2277DD;stroke-width:2.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="321.5" x2="331.5" y1="156.1992" y2="152.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="321.5" x2="331.5" y1="156.1992" y2="160.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="321.5" x2="445.5" y1="156.1992" y2="156.1992"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="92" x="338.5" y="140.6694">Submit draft chit w/</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="86" x="338.5" y="151.6694">value --&gt; receiver</text><line style="stroke:#000000;stroke-width:1.0;" x1="171.5" x2="181.5" y1="181.1992" y2="177.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="171.5" x2="181.5" y1="181.1992" y2="185.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="171.5" x2="320.5" y1="181.1992" y2="181.1992"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="108" x="188.5" y="176.6694">Store, transmit to peer</text><line style="stroke:#000000;stroke-width:1.0;" x1="47.5" x2="57.5" y1="206.1992" y2="202.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="47.5" x2="57.5" y1="206.1992" y2="210.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="47.5" x2="170.5" y1="206.1992" y2="206.1992"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="53" x="64.5" y="201.6694">Notify user</text><path d="M10,221.1992 L72,221.1992 L72,228.1992 L62,238.1992 L10,238.1992 L10,221.1992 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="454.8418" style="stroke:#000000;stroke-width:2.0;" width="527" x="10" y="221.1992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="234.7676">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="101" x="87" y="233.834">[Terms agreeable]</text><line style="stroke:#000000;stroke-width:1.0;" x1="169.5" x2="159.5" y1="255.5098" y2="251.5098"/><line style="stroke:#000000;stroke-width:1.0;" x1="169.5" x2="159.5" y1="255.5098" y2="259.5098"/><line style="stroke:#000000;stroke-width:1.0;" x1="47.5" x2="170.5" y1="255.5098" y2="255.5098"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="77" x="54.5" y="250.98">Accept/sign chit</text><path d="M136,268.5098 L136,289.5098 L356,289.5098 L356,278.5098 L346,268.5098 L136,268.5098 " fill="#E8E8EA" filter="url(#frv3z4klleytf)" style="stroke:#202024;stroke-width:1.0;"/><path d="M346,268.5098 L346,278.5098 L356,278.5098 L346,268.5098 " fill="#E8E8EA" style="stroke:#202024;stroke-width:1.0;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="114" x="182.75" y="281.98">Payment is now binding</text><line style="stroke:#000000;stroke-width:1.0;" x1="319.5" x2="309.5" y1="315.5098" y2="311.5098"/><line style="stroke:#000000;stroke-width:1.0;" x1="319.5" x2="309.5" y1="315.5098" y2="319.5098"/><line style="stroke:#000000;stroke-width:1.0;" x1="171.5" x2="320.5" y1="315.5098" y2="315.5098"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="126" x="178.5" y="310.98">Store and transmit to peer</text><line style="stroke:#000000;stroke-width:1.0;" x1="444.5" x2="434.5" y1="340.5098" y2="336.5098"/><line style="stroke:#000000;stroke-width:1.0;" x1="444.5" x2="434.5" y1="340.5098" y2="344.5098"/><line style="stroke:#000000;stroke-width:1.0;" x1="321.5" x2="445.5" y1="340.5098" y2="340.5098"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="101" x="328.5" y="335.98">Store and notify user</text><path d="M128.5,355.5098 L202.5,355.5098 L202.5,362.5098 L192.5,372.5098 L128.5,372.5098 L128.5,355.5098 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="42.3105" style="stroke:#000000;stroke-width:2.0;" width="245.5" x="128.5" y="355.5098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="143.5" y="369.0781">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96" x="217.5" y="368.1445">[until consensus]</text><polygon fill="#000000" points="182.5,385.8203,172.5,389.8203,182.5,393.8203,178.5,389.8203" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="309.5,385.8203,319.5,389.8203,309.5,393.8203,313.5,389.8203" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="176.5" x2="315.5" y1="389.8203" y2="389.8203"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="110" x="188.5" y="385.2905">Consensus acks/naks</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="537" y1="405.8203" y2="405.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96" x="15" y="416.4551">[Want to counter]</text><path d="M20,426.7754 L94,426.7754 L94,433.7754 L84,443.7754 L20,443.7754 L20,426.7754 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="42.3105" style="stroke:#000000;stroke-width:2.0;" width="194.5" x="20" y="426.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="35" y="440.3438">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="86" x="109" y="439.4102">[until satisfied]</text><line style="stroke:#000000;stroke-width:1.0;" x1="169.5" x2="159.5" y1="461.0859" y2="457.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="169.5" x2="159.5" y1="461.0859" y2="465.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="47.5" x2="170.5" y1="461.0859" y2="461.0859"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="100" x="54.5" y="456.5562">Modify invoice terms</text><line style="stroke:#000000;stroke-width:1.0;" x1="169.5" x2="159.5" y1="493.0859" y2="489.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="169.5" x2="159.5" y1="493.0859" y2="497.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="47.5" x2="170.5" y1="493.0859" y2="493.0859"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="95" x="54.5" y="488.5562">Return counteroffer</text><line style="stroke:#000000;stroke-width:1.0;" x1="319.5" x2="309.5" y1="518.0859" y2="514.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="319.5" x2="309.5" y1="518.0859" y2="522.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="171.5" x2="320.5" y1="518.0859" y2="518.0859"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="113" x="178.5" y="513.5562">Send modified draft chit</text><line style="stroke:#000000;stroke-width:1.0;" x1="444.5" x2="434.5" y1="543.0859" y2="539.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="444.5" x2="434.5" y1="543.0859" y2="547.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="321.5" x2="445.5" y1="543.0859" y2="543.0859"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="101" x="328.5" y="538.5562">Store and notify user</text><path d="M240,556.0859 L240,577.0859 L523,577.0859 L523,566.0859 L513,556.0859 L240,556.0859 " fill="#E8E8EA" filter="url(#frv3z4klleytf)" style="stroke:#202024;stroke-width:1.0;"/><path d="M513,556.0859 L513,566.0859 L523,566.0859 L513,556.0859 " fill="#E8E8EA" style="stroke:#202024;stroke-width:1.0;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="262" x="246" y="569.5562">Invoice chit may then be modified/resubmitted (above)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="537" y1="587.0859" y2="587.0859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82" x="15" y="597.7207">[Refuse terms]</text><line style="stroke:#000000;stroke-width:1.0;" x1="169.5" x2="159.5" y1="618.041" y2="614.041"/><line style="stroke:#000000;stroke-width:1.0;" x1="169.5" x2="159.5" y1="618.041" y2="622.041"/><line style="stroke:#000000;stroke-width:1.0;" x1="47.5" x2="170.5" y1="618.041" y2="618.041"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="100" x="54.5" y="613.5112">Mark chit as refused</text><line style="stroke:#000000;stroke-width:1.0;" x1="319.5" x2="309.5" y1="643.041" y2="639.041"/><line style="stroke:#000000;stroke-width:1.0;" x1="319.5" x2="309.5" y1="643.041" y2="647.041"/><line style="stroke:#000000;stroke-width:1.0;" x1="171.5" x2="320.5" y1="643.041" y2="643.041"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="85" x="178.5" y="638.5112">Send refused chit</text><line style="stroke:#000000;stroke-width:1.0;" x1="444.5" x2="434.5" y1="668.041" y2="664.041"/><line style="stroke:#000000;stroke-width:1.0;" x1="444.5" x2="434.5" y1="668.041" y2="672.041"/><line style="stroke:#000000;stroke-width:1.0;" x1="321.5" x2="445.5" y1="668.041" y2="668.041"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="101" x="328.5" y="663.5112">Store and notify user</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="152" x="197.5" y="783.709">Thu Mar 25 13:27:54 MDT 2021</text><!--MD5=[ca615e6b67b3dd7640aafd9e8bc1c741]
@startuml
!include common.puml
$title(Chit Direct Invoice)
actor "Payor" as pay
database "Payor DB" as payDB
database "Receiver DB" as recDB
actor "Receiver" as rec

rec	->>	recDB:		Submit draft chit w/\nvalue - -> receiver
recDB	->>	payDB:		Store, transmit to peer
payDB	->>	pay:		Notify user

alt Terms agreeable
 pay	->>	payDB:		Accept/sign chit
 note over payDB, recDB
   Payment is now binding
 end note
 payDB	->>	recDB:		Store and transmit to peer
 recDB	->>	rec:		Store and notify user

loop until consensus
 payDB	<->	recDB:		Consensus acks/naks
end loop

else Want to counter
 loop until satisfied
  pay	->>	payDB:		Modify invoice terms
 end loop
 pay	->>	payDB:		Return counteroffer
 payDB	->>	recDB:		Send modified draft chit
 recDB	->>	rec:		Store and notify user
 note over recDB, rec
   Invoice chit may then be modified/resubmitted (above)
 end note

else Refuse terms
 pay	->>	payDB:		Mark chit as refused
 payDB	->>	recDB:		Send refused chit
 recDB	->>	rec:		Store and notify user
end

@enduml

@startuml



skinparam backgroundColor fff
skinparam stereotypeCBackgroundColor 27d






skinparam circledCharacter {
  radius 8
  fontSize 11
  fontName Helvetica
}

skinparam class {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  attributeFontColor 333
  attributeFontSize 11
  attributeIconSize 11
}

skinparam actor {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam participant {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam collections {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam SequenceBox{
    backgroundColor e0e0e0
  borderColor cccccc
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam interface {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam component {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}



skinparam queue {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


skinparam usecase {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam activity {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam sequence {
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  lifeLineBorderColor 4af
  lifeLineBackgroundColor e0e0e0
}




skinparam state {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
  startColor 4af
  endColor 27d
}

skinparam note {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}







  title Chit Direct Invoice
  footer Thu Mar 25 13:27:54 MDT 2021
actor "Payor" as pay
database "Payor DB" as payDB
database "Receiver DB" as recDB
actor "Receiver" as rec

rec	->>	recDB:		Submit draft chit w/\nvalue - -> receiver
recDB	->>	payDB:		Store, transmit to peer
payDB	->>	pay:		Notify user

alt Terms agreeable
 pay	->>	payDB:		Accept/sign chit
 note over payDB, recDB
   Payment is now binding
 end note
 payDB	->>	recDB:		Store and transmit to peer
 recDB	->>	rec:		Store and notify user

loop until consensus
 payDB	<->	recDB:		Consensus acks/naks
end loop

else Want to counter
 loop until satisfied
  pay	->>	payDB:		Modify invoice terms
 end loop
 pay	->>	payDB:		Return counteroffer
 payDB	->>	recDB:		Send modified draft chit
 recDB	->>	rec:		Store and notify user
 note over recDB, rec
   Invoice chit may then be modified/resubmitted (above)
 end note

else Refuse terms
 pay	->>	payDB:		Mark chit as refused
 payDB	->>	recDB:		Send refused chit
 recDB	->>	rec:		Store and notify user
end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 03:25:05 MST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>