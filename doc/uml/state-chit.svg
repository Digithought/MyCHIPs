<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1007px" preserveAspectRatio="none" style="width:1099px;height:1007px;background:#FFFFFF;" version="1.1" viewBox="0 0 1099 1007" width="1099px" zoomAndPan="magnify"><defs><filter height="300%" id="f16trbn34csvma" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="151" x="467.75" y="17.4023">Direct Chit States</text><!--MD5=[4b4fcc21959b44b7293758900907bb92]
cluster good--><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="168" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="628" x="84.5" y="691.1992"/><rect fill="#FFFFFF" height="107.7344" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="622" x="87.5" y="748.4648"/><line style="stroke:#202024;stroke-width:1.5;" x1="84.5" x2="712.5" y1="745.4648" y2="745.4648"/><line style="stroke:#202024;stroke-width:1.5;" x1="84.5" x2="712.5" y1="712.1992" y2="712.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="24" x="306" y="703.6694">good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="71" x="89.5" y="726.3008">Status: good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="185" x="89.5" y="740.4336">Commence consensus algorithm</text><g id="good.lGood"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="59.2656" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="201" x="128" y="769.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="128" x2="329" y1="790.1992" y2="790.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="33" x="212" y="782.6694">L.good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="181" x="133" y="806.8008">Liability: Peer has been notified</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130" x="133" y="820.9336">Status: good, Req: null</text></g><g id="good.aGood"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="73.3984" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="198" x="490.5" y="762.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="490.5" x2="688.5" y1="783.1992" y2="783.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="34" x="572.5" y="775.6694">A.good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="178" x="495.5" y="799.8008">Asset: Peer has agreed/signed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130" x="495.5" y="813.9336">Status: good, Req: null</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="495.5" y="828.0664">User: Notice</text></g><g id="good.liftGood"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="73.3984" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="91" x="364" y="762.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="364" x2="455" y1="783.1992" y2="783.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="41" x="389" y="775.6694">Lift.good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="369" y="799.8008">Type: lift</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="71" x="369" y="813.9336">Status: good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="369" y="828.0664">User: Notice</text></g><g id="lPendGood"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="73.3984" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="210" x="45.5" y="529.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="45.5" x2="255.5" y1="550.1992" y2="550.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="60" x="120.5" y="542.6694">L.pend.good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="190" x="50.5" y="566.8008">Liability: User has agreed/signed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="140" x="50.5" y="580.9336">Status: pend, Req: good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="50.5" y="595.0664">Agent: Attention!</text></g><g id="lPend"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="73.3984" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="207" x="47" y="361.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="47" x2="254" y1="382.1992" y2="382.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="33" x="134" y="374.6694">L.pend</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="187" x="52" y="398.8008">Liability: Open invoice from peer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="131" x="52" y="412.9336">Status: pend, Req: null</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="52" y="427.0664">User: Attention!</text></g><g id="lPendVoid"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="73.3984" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="169" x="66" y="28.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="66" x2="235" y1="49.1992" y2="49.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="122.5" y="41.6694">L.pend.void</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149" x="71" y="65.8008">Liability: User has refused</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="71" y="79.9336">Status: pend, Req: void</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="71" y="94.0664">Agent: Attention!</text></g><g id="lVoid"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="59.2656" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="201" x="255" y="196.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="255" x2="456" y1="217.1992" y2="217.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="29" x="341" y="209.6694">L.void</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="181" x="260" y="233.8008">Liability: Peer has been notified</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="125" x="260" y="247.9336">Status: void, Req: null</text></g><g id="aDraftPend"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="73.3984" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="180" x="760.5" y="361.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="760.5" x2="940.5" y1="382.1992" y2="382.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="59" x="821" y="374.6694">A.draft.pend</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="160" x="765.5" y="398.8008">Asset: User invoicing a peer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139" x="765.5" y="412.9336">Status: draft, Req: pend</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="765.5" y="427.0664">Agent: Attention!</text></g><g id="aPend"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="73.3984" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="193" x="754" y="529.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="754" x2="947" y1="550.1992" y2="550.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="34" x="833.5" y="542.6694">A.pend</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="759" y="566.8008">Asset: Peer has been invoiced</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="131" x="759" y="580.9336">Status: pend, Req: null</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="169" x="759" y="595.0664">User: Notice, waiting for peer</text></g><g id="aVoid"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="73.3984" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="157" x="875" y="762.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="875" x2="1032" y1="783.1992" y2="783.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="30" x="938.5" y="775.6694">A.void</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137" x="880" y="799.8008">Asset: Peer has refused</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="125" x="880" y="813.9336">Status: void, Req: null</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="880" y="828.0664">User: Notice</text></g><g id="liftPend"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="59.2656" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="92" x="290.5" y="536.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="290.5" x2="382.5" y1="557.1992" y2="557.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="41" x="316" y="549.6694">Lift.pend</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="295.5" y="573.8008">Type: lift</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="295.5" y="587.9336">Status: pend</text></g><g id="liftVoid"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="59.2656" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="86" x="455.5" y="536.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="455.5" x2="541.5" y1="557.1992" y2="557.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="37" x="480" y="549.6694">Lift.void</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="460.5" y="573.8008">Type: lift</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="460.5" y="587.9336">Status: void</text></g><g id="linked"><rect fill="#E8E8EA" filter="url(#f16trbn34csvma)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="171" x="7" y="926.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="7" x2="178" y1="947.1992" y2="947.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="28" x="78.5" y="939.6694">linked</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="12" y="963.8008">Chit linked into hash chain</text></g><ellipse cx="405.5" cy="397.6992" fill="#44AAFF" filter="url(#f16trbn34csvma)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><!--MD5=[07ea15f91487f41bc77bde87e98238da]
link *start to aDraftPend--><path d="M415.63,397.6992 C460.12,397.6992 641.03,397.6992 755.03,397.6992 " fill="none" id="*start-to-aDraftPend" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="760.07,397.6992,751.07,393.6992,755.07,397.6992,751.07,401.6992,760.07,397.6992" style="stroke:#008000;stroke-width:1.0;"/><text fill="#008000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="27" x="574.5" y="369.1694">User:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="84" x="546" y="380.1694">Creates draft chit</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="63" x="556.5" y="391.1694">value --&gt; self</text><!--MD5=[4b99f0e1c1e928393068947fbea4091b]
reverse link lPend to *start--><path d="M259.43,397.6992 C313.47,397.6992 372.04,397.6992 395.23,397.6992 " fill="none" id="lPend-backto-*start" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="254.22,397.6992,263.22,401.6992,259.22,397.6992,263.22,393.6992,254.22,397.6992" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="311.75" y="369.1694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="77" x="286.25" y="380.1694">Receive invoice</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="105" x="272.25" y="391.1694">/Act:pend; Notify user</text><!--MD5=[816b9799574588d9edb8070c92a365c4]
link *start to lPendGood--><path d="M396.16,401.7592 C372.33,409.7892 307.79,433.0592 260.5,464.1992 C234.06,481.6092 207.76,505.3392 187.51,525.3692 " fill="none" id="*start-to-lPendGood" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="183.8,529.0692,192.9995,525.5523,187.3427,525.5408,187.3541,519.884,183.8,529.0692" style="stroke:#008000;stroke-width:1.0;"/><text fill="#008000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="27" x="295" y="473.6694">User:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="94" x="261.5" y="484.6694">Creates signed chit</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="71" x="273" y="495.6694">value-&gt;partner</text><!--MD5=[c3a296c6ebf754e81617c30c76ace1e1]
link *start to aGood--><path d="M414.1,402.9292 C441.1,416.7292 524.4,463.3192 559.5,529.1992 C598.28,601.9892 597.94,701.4492 593.93,756.6092 " fill="none" id="*start-to-aGood" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="593.53,761.8092,598.1894,753.1323,593.9025,756.8231,590.2117,752.5362,593.53,761.8092" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="625" y="546.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="90" x="593" y="557.6694">Receive asset chit</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="66" x="605" y="568.6694">value-&gt;holder</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="77" x="599.5" y="579.6694">[Valid signature]</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="105" x="585.5" y="590.6694">/Act:good; Notify user</text><!--MD5=[effcd3c0c17cd551be62c103a4a41ee6]
link aDraftPend to aPend--><path d="M850.5,434.3092 C850.5,460.6792 850.5,496.6392 850.5,524.1192 " fill="none" id="aDraftPend-to-aPend" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="850.5,529.1492,854.5,520.1492,850.5,524.1492,846.5,520.1492,850.5,529.1492" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="888" y="473.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="92" x="870" y="484.6694">Req:pend detected</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="129" x="851.5" y="495.6694">/Transmit invoice Act:pend</text><!--MD5=[12542876fadba40b8891060154299542]
link aPend to aVoid--><path d="M863.01,602.3992 C870.04,621.7592 879.24,645.9992 888.5,667.1992 C901.95,697.9892 918.93,731.9292 932.16,757.4892 " fill="none" id="aPend-to-aVoid" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="934.58,762.1592,933.9946,752.3278,932.2813,757.7189,926.8902,756.0056,934.58,762.1592" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="927" y="641.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="76" x="902" y="652.6694">Receive refusal</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="101" x="889.5" y="663.6694">/Act:void; Notify user</text><!--MD5=[5dee0530a8862cc7225cca4f09b16653]
link aVoid to aDraftPend--><path d="M971.13,762.0792 C1000.56,696.9992 1050.74,557.0492 989.5,464.1992 C978.67,447.7792 962.54,435.3792 945.07,426.0492 " fill="none" id="aVoid-to-aDraftPend" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="940.6,423.7492,946.7536,431.439,945.0403,426.0479,950.4314,424.3346,940.6,423.7492" style="stroke:#008000;stroke-width:1.0;"/><text fill="#008000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="27" x="1042" y="557.6694">User:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="60" x="1025.5" y="568.6694">Modifies chit</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="72" x="1019.5" y="579.6694">Requests draft</text><!--MD5=[87d89b07b80ece2afd0c4adf6eb9981a]
link aPend to aGood--><path d="M798,602.4692 C785.13,611.7892 771.58,622.0692 759.5,632.1992 C711.39,672.5492 660.29,723.5292 626.83,758.1792 " fill="none" id="aPend-to-aGood" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="623.24,761.8992,632.3666,758.1972,626.7107,758.3,626.6078,752.6441,623.24,761.8992" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="800" y="641.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="100" x="763" y="652.6694">Receive acceptance</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="105" x="760.5" y="663.6694">/Act:good; Notify user</text><!--MD5=[e3370df3816487b93cedbb1bc93ae951]
reverse link lPendVoid to lPend--><path d="M146.18,106.3992 C143.68,132.1192 140.77,166.0692 139.5,196.1992 C137.07,253.8392 142.38,320.7492 146.44,360.8592 " fill="none" id="lPendVoid-backto-lPend" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="146.68,101.3692,141.8238,109.9376,146.1938,106.3455,149.7859,110.7155,146.68,101.3692" style="stroke:#008000;stroke-width:1.0;"/><text fill="#008000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="27" x="175" y="223.1694">User:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="96" x="140.5" y="234.1694">Requests to decline</text><!--MD5=[8a08566b369321204377310226f63ed4]
link lPendVoid to lVoid--><path d="M196.51,101.3792 C231.9,128.8292 280.36,166.4192 314.45,192.8592 " fill="none" id="lPendVoid-to-lVoid" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="318.53,196.0292,313.8533,187.3615,314.5733,192.9724,308.9624,193.6923,318.53,196.0292" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="312.5" y="140.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="88" x="296.5" y="151.6694">Req:void detected</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="124" x="278.5" y="162.6694">/Transmit refusal Act:void</text><!--MD5=[98212adcfc97a0d038088661c0d6eb54]
link lVoid to lPend--><path d="M320.72,255.5392 C286.89,283.5992 235.23,326.4392 197.69,357.5592 " fill="none" id="lVoid-to-lPend" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="193.65,360.9192,203.1316,358.2548,197.4993,357.7282,198.0259,352.0959,193.65,360.9192" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="331.5" y="294.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="120" x="284.5" y="305.6694">Receive modified invoice</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="77" x="306" y="316.6694">[Valid signature]</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="105" x="292" y="327.6694">/Act:pend; Notify user</text><!--MD5=[c51b89918b4e3d471837861b0f6a22f5]
link lPend to lPendGood--><path d="M150.5,434.3092 C150.5,460.6792 150.5,496.6392 150.5,524.1192 " fill="none" id="lPend-to-lPendGood" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="150.5,529.1492,154.5,520.1492,150.5,524.1492,146.5,520.1492,150.5,529.1492" style="stroke:#008000;stroke-width:1.0;"/><text fill="#008000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="27" x="161.5" y="479.1694">User:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="47" x="151.5" y="490.1694">Signs chit</text><!--MD5=[3d6d4f5d365ce6195a51dc49003bd112]
link lPendGood to lGood--><path d="M162.52,602.2892 C177.41,646.3992 202.61,721.0192 217.18,764.1592 " fill="none" id="lPendGood-to-lGood" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="218.81,769.0092,219.7233,759.2028,217.2117,764.2715,212.143,761.76,218.81,769.0092" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="232.5" y="641.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="92" x="214.5" y="652.6694">Req:good detected</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="152" x="184.5" y="663.6694">/Transmit acceptance Act:good</text><!--MD5=[0bab2828177c4c80b97c192374e02c1e]
link good to linked--><path d="M92.5,859.798 C92.5,861.4188 92.5,863.0494 92.5,864.6867 C92.5,871.2356 92.5,877.8902 92.5,884.4472 C92.5,897.5611 92.5,910.2842 92.5,920.9892 " fill="none" id="good-to-linked" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="92.5,926.0392,96.5,917.0392,92.5,921.0392,88.5,917.0392,92.5,926.0392" style="stroke:#000000;stroke-width:1.0;"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="134" x="93.5" y="892.6694">[When consensus reached]</text><!--MD5=[7fa3e0d1a40a696b9499be011d3df376]
link *start to liftPend--><path d="M401.98,407.1592 C392.62,429.6992 366.66,492.1392 350.38,531.2992 " fill="none" id="*start-to-liftPend" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="348.45,535.9592,355.6113,529.1979,350.3781,531.3459,348.23,526.1128,348.45,535.9592" style="stroke:#000000;stroke-width:1.0;"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="86" x="377.5" y="479.1694">System proposes</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="72" x="384.5" y="490.1694">or agrees to lift</text><!--MD5=[7a916cf8312d31b6324108ef5e83ce7a]
link liftPend to liftVoid--><path d="M382.92,565.6992 C404.04,565.6992 429.02,565.6992 450.35,565.6992 " fill="none" id="liftPend-to-liftVoid" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="455.4,565.6992,446.4,561.6992,450.4,565.6992,446.4,569.6992,455.4,565.6992" style="stroke:#000000;stroke-width:1.0;"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="36" x="401" y="559.1694">Lift fails</text><!--MD5=[7626a8914d40baa2528604ca28e1bfb6]
link liftPend to liftGood--><path d="M345.6,595.4892 C358.47,636.2092 382.05,710.8392 396.69,757.1492 " fill="none" id="liftPend-to-liftGood" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="398.25,762.0992,399.3401,752.3109,396.7375,757.3335,391.7149,754.7309,398.25,762.0992" style="stroke:#000000;stroke-width:1.0;"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="67" x="366.5" y="652.6694">Lift committed</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="145" x="470.75" y="998.8672">Sat Feb 19 14:18:30 MST 2022</text><!--MD5=[425dcdb0be9dab99871d73c26e9e162b]
@startuml
!include common.puml

$title(Direct Chit States)
state "L.pend.good" as lPendGood
state "L.pend" as lPend
state "L.pend.void" as lPendVoid
state "L.void" as lVoid
state "A.draft.pend" as aDraftPend
state "A.pend" as aPend
state "A.void" as aVoid
state "Lift.pend" as liftPend
state "Lift.void" as liftVoid
state good {
  state "L.good" as lGood
  state "A.good" as aGood
  state "Lift.good" as liftGood
}

'State details:
lPend: Liability: Open invoice from peer
lPend: Status: pend, Req: null
lPend: User: Attention!

lPendVoid: Liability: User has refused
lPendVoid: Status: pend, Req: void
lPendVoid: Agent: Attention!

lVoid: Liability: Peer has been notified
lVoid: Status: void, Req: null

lPendGood: Liability: User has agreed/signed
lPendGood: Status: pend, Req: good
lPendGood: Agent: Attention!

lGood : Liability: Peer has been notified
lGood : Status: good, Req: null

aDraftPend: Asset: User invoicing a peer
aDraftPend: Status: draft, Req: pend
aDraftPend: Agent: Attention!

aPend: Asset: Peer has been invoiced
aPend: Status: pend, Req: null
aPend: User: Notice, waiting for peer

aVoid : Asset: Peer has refused
aVoid : Status: void, Req: null
aVoid : User: Notice

aGood : Asset: Peer has agreed/signed
aGood : Status: good, Req: null
aGood : User: Notice

good : Status: good
good : Commence consensus algorithm
linked : Chit linked into hash chain

liftPend : Type: lift\nStatus: pend
liftGood : Type: lift\nStatus: good
liftGood : User: Notice
liftVoid : Type: lift\nStatus: void
'liftLink : Type: lift\nStatus: good

'State transition rules:
[*] -right[$user]-> aDraftPend : $trans($user,Creates draft chit\nvalue - -> self)
[*] -left[$peer]-> lPend : $trans($peer,Receive invoice,'',Act:pend; Notify user)
[*] -[$user]-> lPendGood : $trans($user,Creates signed chit\nvalue->partner)
[*] -[$peer]-> aGood : $trans($peer,Receive asset chit\nvalue->holder, Valid signature, Act:good; Notify user)

aDraftPend -[$db]-> aPend : $trans($db,Req:pend detected,'',Transmit invoice Act:pend)
'aPend - -> aDraftPend : $trans(Timeout,No reply from peer)
aPend -[$peer]-> aVoid : $trans($peer,Receive refusal,'',Act:void; Notify user)
aVoid -[$user]-> aDraftPend : $trans($user,Modifies chit\nRequests draft,'')
aPend -[$peer]-> aGood : $trans($peer,Receive acceptance,'',Act:good; Notify user)

lPend -up[$user]-> lPendVoid : $trans($user, Requests to decline)
lPendVoid -[$db]-> lVoid : $trans($db, Req:void detected, '', Transmit refusal Act:void)
lVoid -[$peer]-> lPend : $trans($peer,Receive modified invoice,Valid signature,Act:pend; Notify user)

lPend -[$user]-> lPendGood : $trans($user, Signs chit)
lPendGood -[$db]-> lGood : $trans($db, Req:good detected,'', Transmit acceptance Act:good)

good - -> linked : [When consensus reached]

[*] -right-> liftPend : System proposes\nor agrees to lift
liftPend -right-> liftVoid : Lift fails
liftPend - -> liftGood : Lift committed
'liftGood - -> liftLink : Lift chit linked

@enduml

@startuml



skinparam backgroundColor fff
skinparam stereotypeCBackgroundColor 27d






skinparam circledCharacter {
  radius 8
  fontSize 11
  fontName Helvetica
}

skinparam class {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  attributeFontColor 333
  attributeFontSize 11
  attributeIconSize 11
}

skinparam actor {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam participant {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam collections {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam SequenceBox{
    backgroundColor e0e0e0
  borderColor cccccc
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam interface {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam component {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}



skinparam queue {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


skinparam usecase {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam activity {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam sequence {
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  lifeLineBorderColor 4af
  lifeLineBackgroundColor e0e0e0
}




skinparam state {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
  startColor 4af
  endColor 27d
}

skinparam note {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}








  title Direct Chit States
  footer Sat Feb 19 14:18:30 MST 2022
state "L.pend.good" as lPendGood
state "L.pend" as lPend
state "L.pend.void" as lPendVoid
state "L.void" as lVoid
state "A.draft.pend" as aDraftPend
state "A.pend" as aPend
state "A.void" as aVoid
state "Lift.pend" as liftPend
state "Lift.void" as liftVoid
state good {
  state "L.good" as lGood
  state "A.good" as aGood
  state "Lift.good" as liftGood
}

lPend: Liability: Open invoice from peer
lPend: Status: pend, Req: null
lPend: User: Attention!

lPendVoid: Liability: User has refused
lPendVoid: Status: pend, Req: void
lPendVoid: Agent: Attention!

lVoid: Liability: Peer has been notified
lVoid: Status: void, Req: null

lPendGood: Liability: User has agreed/signed
lPendGood: Status: pend, Req: good
lPendGood: Agent: Attention!

lGood : Liability: Peer has been notified
lGood : Status: good, Req: null

aDraftPend: Asset: User invoicing a peer
aDraftPend: Status: draft, Req: pend
aDraftPend: Agent: Attention!

aPend: Asset: Peer has been invoiced
aPend: Status: pend, Req: null
aPend: User: Notice, waiting for peer

aVoid : Asset: Peer has refused
aVoid : Status: void, Req: null
aVoid : User: Notice

aGood : Asset: Peer has agreed/signed
aGood : Status: good, Req: null
aGood : User: Notice

good : Status: good
good : Commence consensus algorithm
linked : Chit linked into hash chain

liftPend : Type: lift\nStatus: pend
liftGood : Type: lift\nStatus: good
liftGood : User: Notice
liftVoid : Type: lift\nStatus: void

[*] -right[#green]-> aDraftPend : <font color=green>User:\nCreates draft chit\nvalue - -> self
[*] -left[#blue]-> lPend : <font color=blue>Peer:\nReceive invoice\n/Act:pend; Notify user
[*] -[#green]-> lPendGood : <font color=green>User:\nCreates signed chit\nvalue->partner
[*] -[#blue]-> aGood : <font color=blue>Peer:\nReceive asset chit\nvalue->holder\n[Valid signature]\n/Act:good; Notify user

aDraftPend -[#red]-> aPend : <font color=red>DB Trigger:\nReq:pend detected\n/Transmit invoice Act:pend
aPend -[#blue]-> aVoid : <font color=blue>Peer:\nReceive refusal\n/Act:void; Notify user
aVoid -[#green]-> aDraftPend : <font color=green>User:\nModifies chit\nRequests draft
aPend -[#blue]-> aGood : <font color=blue>Peer:\nReceive acceptance\n/Act:good; Notify user

lPend -up[#green]-> lPendVoid : <font color=green>User:\nRequests to decline
lPendVoid -[#red]-> lVoid : <font color=red>DB Trigger:\nReq:void detected\n/Transmit refusal Act:void
lVoid -[#blue]-> lPend : <font color=blue>Peer:\nReceive modified invoice\n[Valid signature]\n/Act:pend; Notify user

lPend -[#green]-> lPendGood : <font color=green>User:\nSigns chit
lPendGood -[#red]-> lGood : <font color=red>DB Trigger:\nReq:good detected\n/Transmit acceptance Act:good

good - -> linked : [When consensus reached]

[*] -right-> liftPend : System proposes\nor agrees to lift
liftPend -right-> liftVoid : Lift fails
liftPend - -> liftGood : Lift committed

@enduml

PlantUML version 1.2022.1(Tue Feb 01 11:19:58 MST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>