<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1283px" preserveAspectRatio="none" style="width:1758px;height:1283px;" version="1.1" viewBox="0 0 1758 1283" width="1758px" zoomAndPan="magnify"><defs><filter height="300%" id="f1h84mjjbzskw1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="88" x="828.5" y="17.4023">Lift States</text><!--MD5=[b36f5260bce9627e97c9fd1ff2469058]
cluster Originator--><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="553" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="618" x="924" y="234.1992"/><rect fill="#FFFFFF" height="526" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="612" x="927" y="258.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="924" x2="1542" y1="255.1992" y2="255.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="48" x="1209" y="246.6694">Originator</text><!--MD5=[5ff7f8487711d6a819ec9abb599effe9]
cluster trying--><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="530.36" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="394" x="344" y="723.8392"/><rect fill="#FFFFFF" height="503.36" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="388" x="347" y="747.8392"/><line style="stroke:#202024;stroke-width:1.5;" x1="344" x2="738" y1="744.8392" y2="744.8392"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="27" x="527.5" y="736.3094">trying</text><g id="Originator.draft"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="140" x="940" y="264.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="940" x2="1080" y1="285.1992" y2="285.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="22" x="999" y="277.6694">draft</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="945" y="301.8008">Stat: void, Req: draft</text></g><g id="Originator.seek"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="138" x="1080" y="409.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="1080" x2="1218" y1="430.1992" y2="430.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="24" x="1137" y="422.6694">seek</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="1085" y="446.8008">Stat: seek, Req: N/A</text></g><g id="Originator.term"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="138" x="940" y="565.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="940" x2="1078" y1="586.1992" y2="586.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="22" x="998" y="578.6694">term</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="945" y="602.8008">Stat: term, Req: N/A</text></g><g id="Originator.call"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="130" x="1048" y="721.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="1048" x2="1178" y1="742.1992" y2="742.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="16" x="1105" y="734.6694">call</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="1053" y="758.8008">Stat: call, Req: N/A</text></g><g id="Originator.timeCheck"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="175" x="1308.5" y="565.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="1308.5" x2="1483.5" y1="586.1992" y2="586.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="52" x="1370" y="578.6694">timeCheck</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="1313.5" y="602.8008">Stat: seek, Req: N/A, Time</text></g><g id="trying.pend"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="141" x="380.5" y="890.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="380.5" x2="521.5" y1="911.1992" y2="911.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="24" x="439" y="903.6694">pend</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="385.5" y="927.8008">Stat: pend, Req: N/A</text></g><g id="trying.checkProp"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="178" x="368" y="1035.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="368" x2="546" y1="1056.1992" y2="1056.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="53" x="430.5" y="1048.6694">checkProp</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158" x="373" y="1072.8008">Stat: pend, Req: N/A, Time</text></g><g id="trying.checkRef"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="178" x="484" y="1180.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="484" x2="662" y1="1201.1992" y2="1201.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="47" x="549.5" y="1193.6694">checkRef</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158" x="489" y="1217.8008">Stat: pend, Req: N/A, Time</text></g><ellipse cx="611" cy="37.1992" fill="#44AAFF" filter="url(#f1h84mjjbzskw1)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="none"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="51" x="585.5" y="111.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="585.5" x2="636.5" y1="132.1992" y2="132.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="31" x="595.5" y="124.6694">No Lift</text></g><g id="good"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="140" x="762" y="890.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="762" x2="902" y1="911.1992" y2="911.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="24" x="820" y="903.6694">good</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="767" y="927.8008">Stat: good, Req: N/A</text></g><g id="void"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="135" x="1249.5" y="890.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="1249.5" x2="1384.5" y1="911.1992" y2="911.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="20" x="1307" y="903.6694">void</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="1254.5" y="927.8008">Stat: void, Req: N/A</text></g><g id="local"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="138" x="182" y="721.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="182" x2="320" y1="742.1992" y2="742.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="22" x="240" y="734.6694">local</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="187" y="758.8008">Stat: void, Req: local</text></g><g id="relay"><rect fill="#E8E8EA" filter="url(#f1h84mjjbzskw1)" height="50" rx="12.5" ry="12.5" style="stroke:#202024;stroke-width:1.5;" width="140" x="7" y="721.1992"/><line style="stroke:#202024;stroke-width:1.5;" x1="7" x2="147" y1="742.1992" y2="742.1992"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="24" x="65" y="734.6694">relay</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="12" y="758.8008">Stat: void, Req: relay</text></g><!--MD5=[0ed2e745026fd0d436b1b77e9cdb1882]
link *start to none--><path d="M611,47.4992 C611,60.8192 611,85.9192 611,105.8692 " fill="none" id="*start-to-none" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="611,111.0792,615,102.0792,611,106.0792,607,102.0792,611,111.0792" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[b8a2bd5f8bd0f500837135ebc7426c67]
link none to draft--><path d="M636.71,149.2092 C672.49,165.7192 739.48,195.9092 798,218.1992 C842.9,235.2992 894.03,252.2492 934.82,265.1892 " fill="none" id="none-to-draft" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="939.74,266.7492,932.3539,260.2342,934.9701,265.2497,929.9547,267.866,939.74,266.7492" style="stroke:#008000;stroke-width:1.0;"/><text fill="#008000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="27" x="862" y="203.6694">User:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="153" x="799" y="214.6694">User initiates linear lift Req:draft</text><!--MD5=[b8a2bd5f8bd0f500837135ebc7426c67]
link none to draft--><path d="M636.69,138.5892 C707.71,142.8592 904.93,157.7792 957,194.1992 C979.27,209.7692 993.31,237.8692 1001.31,259.2992 " fill="none" id="none-to-draft-1" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="1003.02,264.0392,1003.7467,254.2172,1001.332,259.3328,996.2164,256.918,1003.02,264.0392" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="1047.5" y="203.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="191" x="980" y="214.6694">Automaton initiates circular lift Req:draft</text><!--MD5=[3a463f2653b48a5c7d220ce005e98019]
link draft to seek--><path d="M1033.58,314.4592 C1057.94,339.5192 1095.93,378.5992 1121.61,405.0192 " fill="none" id="draft-to-seek" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="1125.3,408.8192,1121.8948,399.5778,1121.8148,405.234,1116.1585,405.1541,1125.3,408.8192" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="1133.5" y="353.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="67" x="1128" y="364.6694">draft detected</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="129" x="1097" y="375.6694">/Send Upstream Act:query</text><!--MD5=[5e0422283bf9db92b2a93d1b3a79d7ae]
link seek to void--><path d="M1218.19,435.7792 C1314.02,438.0992 1480.13,448.1392 1522,489.1992 C1619.77,585.0892 1630.28,678.8892 1558,795.1992 C1521.48,853.9692 1446.41,884.5792 1389.71,899.9392 " fill="none" id="seek-to-void" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="1384.63,901.2892,1394.3562,902.8388,1389.4616,900.0027,1392.2977,895.1081,1384.63,901.2892" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="1664.5" y="660.1694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="75" x="1640" y="671.1694">Receive Act:fail</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="145" x="1605" y="682.1694">/Lift failed; Notify referee, user</text><!--MD5=[3c336d3e22ec20b52cea399caff4388a]
link seek to timeCheck--><path d="M1140.19,459.3992 C1133.82,481.5892 1128.98,514.1092 1146,535.1992 C1165.8,559.7292 1240.56,573.6692 1303.22,581.2092 " fill="none" id="seek-to-timeCheck" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="1308.47,581.8292,1299.9998,576.8036,1303.5043,581.2442,1299.0638,584.7487,1308.47,581.8292" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="1221.5" y="504.1694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="64" x="1217.5" y="515.1694">Local timeout</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="205" x="1147" y="526.1694">/Lift expired?; Request status from referee</text><!--MD5=[c01631737c1f0f8b3ba4fe1ccf7e9ef8]
link timeCheck to seek--><path d="M1392.91,565.0492 C1388.71,542.2692 1379.01,508.7592 1357,489.1992 C1320.48,456.7492 1266.89,443.3692 1223.26,438.0392 " fill="none" id="timeCheck-to-seek" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="1218.26,437.4592,1226.7444,442.4608,1223.2273,438.0302,1227.6579,434.5131,1218.26,437.4592" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="1436" y="504.1694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="128" x="1385" y="515.1694">Receive referee Act:intime</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="92" x="1403" y="526.1694">/Lift not yet expired</text><!--MD5=[6b1400eb778514d0b125ba8b112026ab]
link timeCheck to void--><path d="M1401.71,615.5492 C1411.94,664.8892 1428.66,778.8992 1387,860.1992 C1381.83,870.2992 1373.81,879.0592 1365.01,886.4292 " fill="none" id="timeCheck-to-void" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="1360.64,889.9292,1370.1632,887.4177,1364.5402,886.8005,1365.1573,881.1774,1360.64,889.9292" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="1468.5" y="738.1694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="135" x="1414" y="749.1694">Receive referee Act:timeout</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="95" x="1434" y="760.1694">/Mark lift as expired</text><!--MD5=[482d6309deee2766415261c82560d726]
link seek to term--><path d="M1079.75,437.2892 C1041.41,442.4392 996.66,455.8892 972,489.1992 C956.1,510.6792 969.9,539.7392 984.96,560.9892 " fill="none" id="seek-to-term" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="987.98,565.1392,985.9174,555.5088,985.0374,561.0968,979.4494,560.2169,987.98,565.1392" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="1026" y="498.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="104" x="987" y="509.6694">Receive confirm from</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="116" x="981" y="520.6694">destination Act:terminus</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="132" x="973" y="531.6694">/Circuit good, freshen route</text><!--MD5=[f762aa6b86640f97b061015827f08e19]
link term to call--><path d="M994.89,615.3092 C984.33,636.8392 974.06,668.3892 989,691.1992 C1001.44,710.1892 1022.17,722.5392 1043.16,730.5492 " fill="none" id="term-to-call" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="1047.92,732.2992,1040.8539,725.4385,1043.2273,730.5733,1038.0925,732.9468,1047.92,732.2992" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="1034.5" y="654.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="79" x="1023" y="665.6694">Detect loopback</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="85" x="1020" y="676.6694">[Lift still desirable]</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="145" x="990" y="687.6694">/Request commit from referee</text><!--MD5=[f762aa6b86640f97b061015827f08e19]
link term to call--><path d="M1078.34,603.4492 C1101.95,611.2892 1125.91,624.1392 1140,645.1992 C1154.38,666.6792 1144.09,695.5792 1132.31,716.7792 " fill="none" id="term-to-call-1" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="1129.78,721.1892,1137.7223,715.3652,1132.2638,716.8498,1130.7792,711.3912,1129.78,721.1892" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="1174.5" y="654.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="79" x="1163" y="665.6694">Detect loopback</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="82" x="1161.5" y="676.6694">[Change of mind]</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="109" x="1148" y="687.6694">/Notify referee of abort</text><!--MD5=[bd644e95feb6201a00b40e5eebab8e8c]
link call to good--><path d="M1076.14,771.4192 C1064.05,780.4692 1051.12,791.4392 1041,803.1992 C1022.05,825.2192 1031.63,841.9792 1009,860.1992 C980.02,883.5292 941.03,896.7992 907.03,904.3392 " fill="none" id="call-to-good" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="902.05,905.4092,911.6924,907.4154,906.9369,904.3518,910.0005,899.5964,902.05,905.4092" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="1096.5" y="818.1694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="78" x="1070.5" y="829.1694">Receive referee</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="99" x="1060" y="840.1694">signature Act:signed</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="135" x="1042" y="851.1694">/Commit lift chits; Consense</text><!--MD5=[a9de27105e89a4d27fda4dc5e45750b6]
link call to void--><path d="M1149.66,771.3692 C1162.01,780.4992 1175.34,791.5192 1186,803.1992 C1206.2,825.3292 1200.33,839.5092 1222,860.1992 C1232.97,870.6692 1246.36,879.8692 1259.58,887.5692 " fill="none" id="call-to-void" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="1264.05,890.1292,1258.226,882.1869,1259.7105,887.6455,1254.252,889.13,1264.05,890.1292" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="1289.5" y="812.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="135" x="1235" y="823.6694">Receive referee Act:timeout</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="42" x="1281.5" y="834.6694">/Too late</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="55" x="1275" y="845.6694">abandon lift</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="159" x="1223" y="856.6694">May try again with longer timeout</text><!--MD5=[f0fd2271ca83be14b7113b9e02bdd7cb]
link none to none--><path d="M636.8,126.3292 C654.34,123.4492 671.5,126.7392 671.5,136.1992 C671.5,144.6992 657.65,148.2192 642.12,146.7492 " fill="none" id="none-to-none" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="636.8,146.0692,645.2108,151.1935,641.7585,146.7122,646.2397,143.2599,636.8,146.0692" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="718.5" y="122.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="90" x="686.5" y="133.6694">Receive Act:query</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="108" x="677.5" y="144.6694">[Destination not found]</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="81" x="691" y="155.6694">/Reply Act: failed</text><!--MD5=[040d5384375abe6efad2c82f9b7cae97]
link none to relay--><path d="M585.35,137.5192 C509.42,139.9592 291,158.2792 291,288.1992 C291,288.1992 291,288.1992 291,591.1992 C291,630.4792 194.81,686.3092 131.41,718.8392 " fill="none" id="none-to-relay" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="126.9,721.1492,136.735,720.6266,131.3549,718.8789,133.1026,713.4988,126.9,721.1492" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="375" y="420.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="90" x="343" y="431.6694">Receive Act:query</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="136" x="320" y="442.6694">[Route found for destination]</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="192" x="292" y="453.6694">/Store lift Req:relay; Forward Act: query</text><!--MD5=[932e2266dc25e87ddfbfaeec5d8ff01e]
link relay to pend--><path d="M78.81,771.5592 C82.11,797.6392 91.48,838.2292 118,860.1992 C156.14,891.7892 289.23,905.2092 375.17,910.6792 " fill="none" id="relay-to-pend" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="380.25,910.9992,371.5065,906.4659,375.259,910.6989,371.026,914.4514,380.25,910.9992" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="146" y="823.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="59" x="144.5" y="834.6694">Detect relay</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="110" x="119" y="845.6694">/Forward lift Act: query</text><!--MD5=[c53c1e11ec8329e6f374aafba7fffcfc]
link none to local--><path d="M603.46,161.2492 C594.86,190.8192 582,242.6892 582,288.1992 C582,288.1992 582,288.1992 582,591.1992 C582,594.9192 403.81,676.0792 308.91,719.0492 " fill="none" id="none-to-local" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="304.18,721.1892,314.0285,721.1065,308.7318,719.1202,310.7181,713.8235,304.18,721.1892" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="631.5" y="420.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="90" x="599.5" y="431.6694">Receive Act:query</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="123" x="583" y="442.6694">[Destination found locally]</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="92" x="598.5" y="453.6694">/Store lift Req: dest</text><!--MD5=[d3d9933f31736ef82111a9b8ed0b01e1]
link local to pend--><path d="M243.18,771.5092 C236.81,796.4192 231.68,834.9692 251,860.1992 C266.38,880.2792 325.25,894.5992 375.16,903.4192 " fill="none" id="local-to-pend" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="380.27,904.3092,372.0885,898.8263,375.3439,903.4525,370.7177,906.708,380.27,904.3092" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="303" y="823.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="59" x="301.5" y="834.6694">Detect relay</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="158" x="252" y="845.6694">/Reply to originator Act: terminus</text><!--MD5=[33ecc3f5d72134943e03405de2d22881]
link trying to good--><path d="M738.0933,807.9944 C738.159,808.0759 738.2243,808.1572 738.2893,808.2384 C738.5494,808.5631 738.8047,808.8858 739.0552,809.2064 C739.5563,809.8476 740.0386,810.4807 740.5036,811.1064 C742.3635,813.609 743.9457,815.9923 745.3414,818.2972 C748.1328,822.907 750.1781,827.2036 752.2063,831.5155 C756.2625,840.1392 760.25,848.8242 770,860.1992 C777.97,869.4892 787.55,878.6192 796.78,886.6492 " fill="none" id="trying-to-good" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="800.71,890.0192,796.4799,881.1251,796.9137,886.7653,791.2735,887.1991,800.71,890.0192" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="802" y="823.6694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="88" x="771" y="834.6694">Receive signature</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="71" x="779.5" y="845.6694">via consensus</text><!--MD5=[33ecc3f5d72134943e03405de2d22881]
link trying to good--><path d="M738.1119,876.2955 C738.1698,876.3114 738.2276,876.3274 738.2855,876.3434 C739.2117,876.5988 740.1392,876.8598 741.0677,877.1258 C744.7816,878.1898 748.5106,879.3355 752.2262,880.5417 C759.6575,882.9542 767.035,885.6092 774.13,888.3392 " fill="none" id="trying-to-good-1" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="778.9,890.1892,771.9659,883.1951,774.2411,888.3742,769.0619,890.6494,778.9,890.1892" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="644.5" y="818.1694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="113" x="601" y="829.1694">Receive signature from</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="103" x="606" y="840.1694">Originator or Referee</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="135" x="590" y="851.1694">/Commit lift chits; Consense</text><!--MD5=[2d47bfcdfc5379471d9a4c3db6a2769d]
link pend to checkProp--><path d="M452.02,940.4592 C453.05,965.1092 454.66,1003.3292 455.76,1029.7092 " fill="none" id="pend-to-checkProp" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="455.98,1034.8192,459.591,1025.6562,455.7659,1029.8238,451.5983,1025.9987,455.98,1034.8192" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="470.5" y="979.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="64" x="466.5" y="990.6694">Local timeout</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="85" x="456" y="1001.6694">/Query Originator</text><!--MD5=[9e9a88dde37fddb77f65c0f1f0bc7abb]
link checkProp to checkRef--><path d="M476.53,1085.3892 C491,1103.2992 511.21,1128.2892 529,1150.1992 C535.81,1158.5892 543.23,1167.6992 550,1176.0092 " fill="none" id="checkProp-to-checkRef" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="553.27,1180.0192,550.6991,1170.5118,550.117,1176.1386,544.4902,1175.5566,553.27,1180.0192" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="540" y="1124.6694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="64" x="536" y="1135.6694">Local timeout</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="76" x="530" y="1146.6694">/Query Referee</text><!--MD5=[eec98612677d31e77a97100daee276a6]
link checkRef to pend--><path d="M594.68,1180.1192 C601.25,1171.3292 607.61,1160.9092 611,1150.1992 C615.7,1135.3692 614.08,1130.4492 611,1115.1992 C597.17,1046.6692 596.88,1022.0692 550,970.1992 C540.3,959.4592 527.94,950.4192 515.28,942.9992 " fill="none" id="checkRef-to-pend" style="stroke:#FF0000;stroke-width:1.0;"/><polygon fill="#FF0000" points="510.6,940.3292,516.4437,948.2571,514.9456,942.8022,520.4005,941.3041,510.6,940.3292" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="56" x="625" y="1052.1694">DB Trigger:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="64" x="621" y="1063.1694">Local timeout</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="96" x="605" y="1074.1694">/Keep trying forever</text><!--MD5=[3fafb5553a6c84c5124198d1950df6db]
link trying to void--><path d="M738.0788,754.053 C778.8425,761.0117 828.095,775.0192 864,803.1992 C886.85,821.1392 871.91,843.9492 896,860.1992 C951.27,897.4792 1138.74,909.0392 1243.91,912.6092 " fill="none" id="trying-to-void" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="1249.16,912.7792,1240.3023,908.4732,1244.1629,912.6079,1240.0282,916.4685,1249.16,912.7792" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="935.5" y="818.1694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="100" x="898.5" y="829.1694">Receive cancel from</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="103" x="897" y="840.1694">Originator or Referee</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="98" x="899.5" y="851.1694">/Void lift record/chits</text><!--MD5=[cbe32db24763ee5420da71c0c8a96298]
link trying to pend--><path d="M662.88,747.2192 C657.78,747.8692 494.35,769.0692 465,803.1992 C445.84,825.4692 444.44,860.1692 446.49,884.8392 " fill="none" id="trying-to-pend" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="446.98,889.9392,450.115,880.6026,446.5093,884.9614,442.1505,881.3557,446.98,889.9392" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#0000FF" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="26" x="504.5" y="818.1694">Peer:</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="96" x="469.5" y="829.1694">Receive intime from</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="103" x="466" y="840.1694">Originator or Referee</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="98" x="468.5" y="851.1694">/Void lift record/chits</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="145" x="800" y="1274.8672">Thu Jul 01 15:51:37 MDT 2021</text><!--MD5=[f645473015843d2f5aa6bab50f61b53c]
@startuml
!include common.puml

$title(Lift States)
[*] - -> none
state "No Lift" as none

'States are determined by a combination of values, as defined here:
'init:  Stat: void, Req: init		'First implementation uses this.  Will try to avoid extra state in next version
state Originator {
draft: Stat: void, Req: draft
seek:  Stat: seek, Req: N/A
term:  Stat: term, Req: N/A
call:  Stat: call, Req: N/A
timeCheck:  Stat: seek, Req: N/A, Time
}

good:  Stat: good, Req: N/A

state trying {
  pend:  Stat: pend, Req: N/A
  checkProp:  Stat: pend, Req: N/A, Time
  checkRef:  Stat: pend, Req: N/A, Time
}
void:  Stat: void, Req: N/A
local:  Stat: void, Req: local
relay:  Stat: void, Req: relay

'State transition rules:
none -[$user]-> draft: $trans($user,User initiates linear lift Req:draft,'')
none -[$db]-> draft: $trans($db,Automaton initiates circular lift Req:draft,'')
'draft -[$db]-> init: $trans($db,draft detected,'',Forward Upstream Act:query)
draft -[$db]-> seek: $trans($db,draft detected,'',Send Upstream Act:query)

seek -[$peer]-> void: $trans($peer,Receive Act:fail,'','Lift failed; Notify referee, user')
seek -[$db]-> timeCheck: $trans($db,Local timeout,'', Lift expired?; Request status from referee)
timeCheck -[$peer]-> void: $trans($peer,Receive referee Act:timeout,'', 'Mark lift as expired')
timeCheck -[$peer]-> seek: $trans($peer,Receive referee Act:intime,'', 'Lift not yet expired')
seek -[$peer]-> term: $trans($peer,'Receive confirm from\ndestination Act:terminus','', 'Circuit good, freshen route')
term -[$db]-> call: $trans($db,Detect loopback,Lift still desirable, Request commit from referee)
term -[$db]-> call: $trans($db,Detect loopback,Change of mind, Notify referee of abort)
call -[$peer]-> good: $trans($peer,'Receive referee\nsignature Act:signed','', Commit lift chits; Consense)
call -[$peer]-> void: $trans($peer,Receive referee Act:timeout,'', 'Too late\nabandon lift\nMay try again with longer timeout')

none -[$peer]-> none: $trans($peer,Receive Act:query,Destination not found, Reply Act: failed)
none -[$peer]-> relay: $trans($peer,Receive Act:query,Route found for destination, 'Store lift Req:relay; Forward Act: query')
relay -[$db]-> pend: $trans($db,Detect relay,'', Forward lift Act: query)

none -[$peer]-> local: $trans($peer,Receive Act:query,Destination found locally, 'Store lift Req: dest')
local -[$db]-> pend: $trans($db,Detect relay,'', Reply to originator Act: terminus)

trying -[$peer]-> good: $trans($peer,'Receive signature\nvia consensus')
pend -[$db]-> checkProp: $trans($db,Local timeout,'', Query Originator)
checkProp -[$db]-> checkRef: $trans($db,Local timeout,'', Query Referee)
checkRef -[$db]-> pend: $trans($db,Local timeout,'', Keep trying forever)

trying -[$peer]-> good: $trans($peer,'Receive signature from\nOriginator or Referee','', 'Commit lift chits; Consense')
trying -[$peer]-> void: $trans($peer,'Receive cancel from\nOriginator or Referee','', 'Void lift record/chits')
trying -[$peer]-> pend: $trans($peer,'Receive intime from\nOriginator or Referee','', 'Void lift record/chits')

@enduml

@startuml



skinparam backgroundColor fff
skinparam stereotypeCBackgroundColor 27d






skinparam circledCharacter {
  radius 8
  fontSize 11
  fontName Helvetica
}

skinparam class {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  attributeFontColor 333
  attributeFontSize 11
  attributeIconSize 11
}

skinparam actor {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam participant {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam collections {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam SequenceBox{
    backgroundColor e0e0e0
  borderColor cccccc
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam interface {
    backgroundColor 4af
  borderColor 27d
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam component {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}



skinparam queue {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


skinparam usecase {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam activity {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
}

skinparam sequence {
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11

  lifeLineBorderColor 4af
  lifeLineBackgroundColor e0e0e0
}




skinparam state {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Helvetica
  arrowFontColor 333
  arrowFontSize 11
  startColor 4af
  endColor 27d
}

skinparam note {
    backgroundColor e8e8ea
  borderColor 202024
    fontColor 003
  fontName Helvetica
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}








  title Lift States
  footer Thu Jul 01 15:51:37 MDT 2021
[*] - -> none
state "No Lift" as none

state Originator {
draft: Stat: void, Req: draft
seek:  Stat: seek, Req: N/A
term:  Stat: term, Req: N/A
call:  Stat: call, Req: N/A
timeCheck:  Stat: seek, Req: N/A, Time
}

good:  Stat: good, Req: N/A

state trying {
  pend:  Stat: pend, Req: N/A
  checkProp:  Stat: pend, Req: N/A, Time
  checkRef:  Stat: pend, Req: N/A, Time
}
void:  Stat: void, Req: N/A
local:  Stat: void, Req: local
relay:  Stat: void, Req: relay

none -[#green]-> draft: <font color=green>User:\nUser initiates linear lift Req:draft
none -[#red]-> draft: <font color=red>DB Trigger:\nAutomaton initiates circular lift Req:draft
draft -[#red]-> seek: <font color=red>DB Trigger:\ndraft detected\n/Send Upstream Act:query

seek -[#blue]-> void: <font color=blue>Peer:\nReceive Act:fail\n/Lift failed; Notify referee, user
seek -[#red]-> timeCheck: <font color=red>DB Trigger:\nLocal timeout\n/Lift expired?; Request status from referee
timeCheck -[#blue]-> void: <font color=blue>Peer:\nReceive referee Act:timeout\n/Mark lift as expired
timeCheck -[#blue]-> seek: <font color=blue>Peer:\nReceive referee Act:intime\n/Lift not yet expired
seek -[#blue]-> term: <font color=blue>Peer:\nReceive confirm from\ndestination Act:terminus\n/Circuit good, freshen route
term -[#red]-> call: <font color=red>DB Trigger:\nDetect loopback\n[Lift still desirable]\n/Request commit from referee
term -[#red]-> call: <font color=red>DB Trigger:\nDetect loopback\n[Change of mind]\n/Notify referee of abort
call -[#blue]-> good: <font color=blue>Peer:\nReceive referee\nsignature Act:signed\n/Commit lift chits; Consense
call -[#blue]-> void: <font color=blue>Peer:\nReceive referee Act:timeout\n/Too late\nabandon lift\nMay try again with longer timeout

none -[#blue]-> none: <font color=blue>Peer:\nReceive Act:query\n[Destination not found]\n/Reply Act: failed
none -[#blue]-> relay: <font color=blue>Peer:\nReceive Act:query\n[Route found for destination]\n/Store lift Req:relay; Forward Act: query
relay -[#red]-> pend: <font color=red>DB Trigger:\nDetect relay\n/Forward lift Act: query

none -[#blue]-> local: <font color=blue>Peer:\nReceive Act:query\n[Destination found locally]\n/Store lift Req: dest
local -[#red]-> pend: <font color=red>DB Trigger:\nDetect relay\n/Reply to originator Act: terminus

trying -[#blue]-> good: <font color=blue>Peer:\nReceive signature\nvia consensus
pend -[#red]-> checkProp: <font color=red>DB Trigger:\nLocal timeout\n/Query Originator
checkProp -[#red]-> checkRef: <font color=red>DB Trigger:\nLocal timeout\n/Query Referee
checkRef -[#red]-> pend: <font color=red>DB Trigger:\nLocal timeout\n/Keep trying forever

trying -[#blue]-> good: <font color=blue>Peer:\nReceive signature from\nOriginator or Referee\n/Commit lift chits; Consense
trying -[#blue]-> void: <font color=blue>Peer:\nReceive cancel from\nOriginator or Referee\n/Void lift record/chits
trying -[#blue]-> pend: <font color=blue>Peer:\nReceive intime from\nOriginator or Referee\n/Void lift record/chits

@enduml

PlantUML version 1.2021.00(Sun Jan 10 03:25:05 MST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>