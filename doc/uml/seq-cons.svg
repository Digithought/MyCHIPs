<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1574px" preserveAspectRatio="none" style="width:580px;height:1574px;background:#FFFFFF;" version="1.1" viewBox="0 0 580 1574" width="580px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="224" x="179.25" y="28.5352">Chit Chain Consensus Protocol</text><rect fill="none" height="200.2656" style="stroke:#000000;stroke-width:1.5;" width="416.5" x="10" y="130.4883"/><rect fill="none" height="573.0176" style="stroke:#000000;stroke-width:1.5;" width="450.5" x="123" y="344.7539"/><rect fill="none" height="82.2656" style="stroke:#000000;stroke-width:1.5;" width="293.5" x="133" y="407.0645"/><rect fill="none" height="133.2207" style="stroke:#000000;stroke-width:1.5;" width="402" x="133" y="556.2852"/><rect fill="none" height="69.3105" style="stroke:#000000;stroke-width:1.5;" width="293.5" x="133" y="805.4609"/><rect fill="none" height="535.1523" style="stroke:#000000;stroke-width:1.5;" width="365" x="113" y="931.7715"/><rect fill="none" height="66.3105" style="stroke:#000000;stroke-width:1.5;" width="335" x="133" y="981.082"/><rect fill="none" height="273.5762" style="stroke:#000000;stroke-width:1.5;" width="345" x="123" y="1186.3477"/><rect fill="none" height="155.2656" style="stroke:#000000;stroke-width:1.5;" width="293.5" x="133" y="1297.6582"/><line style="stroke:#44AAFF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="113.4883" y2="1483.9238"/><line style="stroke:#44AAFF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="189" x2="189" y1="113.4883" y2="1483.9238"/><line style="stroke:#44AAFF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="365.5" x2="365.5" y1="113.4883" y2="1483.9238"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="53" x="20" y="110.9585">Chit Issuer</text><ellipse cx="49.5" cy="50.9883" fill="#44AAFF" rx="8" ry="8" style="stroke:#2277DD;stroke-width:0.5;"/><path d="M49.5,58.9883 L49.5,85.9883 M36.5,66.9883 L62.5,66.9883 M49.5,85.9883 L36.5,100.9883 M49.5,85.9883 L62.5,100.9883 " fill="none" style="stroke:#2277DD;stroke-width:0.5;"/><text fill="#000033" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="53" x="20" y="1491.394">Chit Issuer</text><ellipse cx="49.5" cy="1502.4238" fill="#44AAFF" rx="8" ry="8" style="stroke:#2277DD;stroke-width:0.5;"/><path d="M49.5,1510.4238 L49.5,1537.4238 M36.5,1518.4238 L62.5,1518.4238 M49.5,1537.4238 L36.5,1552.4238 M49.5,1537.4238 L62.5,1552.4238 " fill="none" style="stroke:#2277DD;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="143" y="110.5352">Issuer Model</text><path d="M171.5,61 C171.5,51 189.5,51 189.5,51 C189.5,51 207.5,51 207.5,61 L207.5,87 C207.5,97 189.5,97 189.5,97 C189.5,97 171.5,97 171.5,87 L171.5,61 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M171.5,61 C171.5,71 189.5,71 189.5,71 C189.5,71 207.5,71 207.5,61 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="143" y="1496.459">Issuer Model</text><path d="M171.5,1509.4121 C171.5,1499.4121 189.5,1499.4121 189.5,1499.4121 C189.5,1499.4121 207.5,1499.4121 207.5,1509.4121 L207.5,1535.4121 C207.5,1545.4121 189.5,1545.4121 189.5,1545.4121 C189.5,1545.4121 171.5,1545.4121 171.5,1535.4121 L171.5,1509.4121 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M171.5,1509.4121 C171.5,1519.4121 189.5,1519.4121 189.5,1519.4121 C189.5,1519.4121 207.5,1519.4121 207.5,1509.4121 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="314.5" y="110.5352">Subject Model</text><path d="M347.5,61 C347.5,51 365.5,51 365.5,51 C365.5,51 383.5,51 383.5,61 L383.5,87 C383.5,97 365.5,97 365.5,97 C365.5,97 347.5,97 347.5,87 L347.5,61 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M347.5,61 C347.5,71 365.5,71 365.5,71 C365.5,71 383.5,71 383.5,61 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="314.5" y="1496.459">Subject Model</text><path d="M347.5,1509.4121 C347.5,1499.4121 365.5,1499.4121 365.5,1499.4121 C365.5,1499.4121 383.5,1499.4121 383.5,1509.4121 L383.5,1535.4121 C383.5,1545.4121 365.5,1545.4121 365.5,1545.4121 C365.5,1545.4121 347.5,1545.4121 347.5,1535.4121 L347.5,1509.4121 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M347.5,1509.4121 C347.5,1519.4121 365.5,1519.4121 365.5,1519.4121 C365.5,1519.4121 383.5,1519.4121 383.5,1509.4121 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M10,130.4883 L72,130.4883 L72,137.7988 L62,147.7988 L10,147.7988 L10,130.4883 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="200.2656" style="stroke:#000000;stroke-width:1.5;" width="416.5" x="10" y="130.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="144.0566">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="214" x="87" y="143.123">[Want to consense regarding new chit]</text><line style="stroke:#000000;stroke-width:1.0;" x1="187.5" x2="177.5" y1="175.7988" y2="171.7988"/><line style="stroke:#000000;stroke-width:1.0;" x1="187.5" x2="177.5" y1="175.7988" y2="179.7988"/><line style="stroke:#000000;stroke-width:1.0;" x1="49.5" x2="188.5" y1="175.7988" y2="175.7988"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="116" x="56.5" y="160.269">Issuer applies validating</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="77" x="56.5" y="171.269">signature to chit</text><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="231.5" y1="211.7988" y2="211.7988"/><line style="stroke:#000000;stroke-width:1.0;" x1="231.5" x2="231.5" y1="211.7988" y2="224.7988"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="231.5" y1="224.7988" y2="224.7988"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="224.7988" y2="220.7988"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="224.7988" y2="228.7988"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="105" x="196.5" y="196.269">Add chit to local chain</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="152" x="196.5" y="207.269">calculate new endIdx, endHash</text><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="271.7988" y2="267.7988"/><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="271.7988" y2="275.7988"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="271.7988" y2="271.7988"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="141" x="196.5" y="245.269">Transmit upd chain message</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="116" x="196.5" y="256.269">along with new valid chit</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="47" x="196.5" y="267.269">to subject</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="426.5" y1="280.7988" y2="280.7988"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="306" x="15" y="291.4336">[Want to check specified checkpoint (which may be 0)]</text><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="322.7539" y2="318.7539"/><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="322.7539" y2="326.7539"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="322.7539" y2="322.7539"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="141" x="196.5" y="307.2241">Transmit upd chain message</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="120" x="196.5" y="318.2241">include endIdx, endHash</text><path d="M123,344.7539 L185,344.7539 L185,352.0645 L175,362.0645 L123,362.0645 L123,344.7539 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="573.0176" style="stroke:#000000;stroke-width:1.5;" width="450.5" x="123" y="344.7539"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="138" y="358.3223">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="190" x="200" y="357.3887">[Command upd contains no chits]</text><line style="stroke:#000000;stroke-width:1.0;" x1="365.5" x2="407.5" y1="379.0645" y2="379.0645"/><line style="stroke:#000000;stroke-width:1.0;" x1="407.5" x2="407.5" y1="379.0645" y2="392.0645"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="407.5" y1="392.0645" y2="392.0645"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="376.5" y1="392.0645" y2="388.0645"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="376.5" y1="392.0645" y2="396.0645"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="184" x="372.5" y="374.5347">Compare local hash\at specified index</text><path d="M133,407.0645 L195,407.0645 L195,414.375 L185,424.375 L133,424.375 L133,407.0645 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="82.2656" style="stroke:#000000;stroke-width:1.5;" width="293.5" x="133" y="407.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="148" y="420.6328">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="86" x="210" y="419.6992">[Hash matches]</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="441.375" y2="437.375"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="441.375" y2="445.375"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="441.375" y2="441.375"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="127" x="206.5" y="436.8452">Send ack with index, hash</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="133" x2="426.5" y1="450.375" y2="450.375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="138" y="461.0098">[hash doesn't match]</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="481.3301" y2="477.3301"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="481.3301" y2="485.3301"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="481.3301" y2="481.3301"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="152" x="206.5" y="476.8003">Send nak with index, local hash</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123" x2="573.5" y1="497.3301" y2="497.3301"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98" x="128" y="507.9648">[We hold the foil]</text><line style="stroke:#000000;stroke-width:1.0;" x1="365.5" x2="407.5" y1="528.2852" y2="528.2852"/><line style="stroke:#000000;stroke-width:1.0;" x1="407.5" x2="407.5" y1="528.2852" y2="541.2852"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="407.5" y1="541.2852" y2="541.2852"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="376.5" y1="541.2852" y2="537.2852"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="376.5" y1="541.2852" y2="545.2852"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="159" x="372.5" y="523.7554">Enter chit(s) at end of local chain</text><path d="M133,556.2852 L195,556.2852 L195,563.5957 L185,573.5957 L133,573.5957 L133,556.2852 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="133.2207" style="stroke:#000000;stroke-width:1.5;" width="402" x="133" y="556.2852"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="148" y="569.8535">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="320" x="210" y="568.9199">[Were chits targeted at end of our chain and hash agrees]</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="590.5957" y2="586.5957"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="590.5957" y2="594.5957"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="590.5957" y2="590.5957"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="46" x="206.5" y="586.0659">Send ack</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="133" x2="535" y1="599.5957" y2="599.5957"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="328" x="138" y="610.2305">[Or were there other non-confirmed chits we have locally]</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="641.5508" y2="637.5508"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="641.5508" y2="645.5508"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="641.5508" y2="641.5508"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="87" x="206.5" y="626.021">Send upd with our</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="76" x="206.5" y="637.021">extra local chits</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="133" x2="535" y1="650.5508" y2="650.5508"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="215" x="138" y="661.1855">[No extra chits but hash doesn't agree]</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="681.5059" y2="677.5059"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="681.5059" y2="685.5059"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="681.5059" y2="681.5059"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="46" x="206.5" y="676.9761">Send nak</text><line style="stroke:#000000;stroke-width:1.0;" x1="365.5" x2="407.5" y1="713.5059" y2="713.5059"/><line style="stroke:#000000;stroke-width:1.0;" x1="407.5" x2="407.5" y1="713.5059" y2="726.5059"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="407.5" y1="726.5059" y2="726.5059"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="376.5" y1="726.5059" y2="722.5059"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="376.5" y1="726.5059" y2="730.5059"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="189" x="372.5" y="708.9761">Are chits targeted for end of our chain?</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123" x2="573.5" y1="735.5059" y2="735.5059"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108" x="128" y="746.1406">[We hold the stock]</text><line style="stroke:#000000;stroke-width:1.0;" x1="365.5" x2="407.5" y1="777.4609" y2="777.4609"/><line style="stroke:#000000;stroke-width:1.0;" x1="407.5" x2="407.5" y1="777.4609" y2="790.4609"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="407.5" y1="790.4609" y2="790.4609"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="376.5" y1="790.4609" y2="786.4609"/><line style="stroke:#000000;stroke-width:1.0;" x1="366.5" x2="376.5" y1="790.4609" y2="794.4609"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="115" x="372.5" y="761.9312">Merge chits at specified</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="141" x="372.5" y="772.9312">locations bumping as needed</text><path d="M133,805.4609 L195,805.4609 L195,812.7715 L185,822.7715 L133,822.7715 L133,805.4609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="69.3105" style="stroke:#000000;stroke-width:1.5;" width="293.5" x="133" y="805.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="148" y="819.0293">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="171" x="210" y="818.0957">[Does our new endHash agree]</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="839.7715" y2="835.7715"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="839.7715" y2="843.7715"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="839.7715" y2="839.7715"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="46" x="206.5" y="835.2417">Send ack</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="133" x2="426.5" y1="848.7715" y2="848.7715"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="866.7715" y2="862.7715"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="866.7715" y2="870.7715"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="866.7715" y2="866.7715"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="46" x="206.5" y="862.2417">Send nak</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="909.7715" y2="905.7715"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="909.7715" y2="913.7715"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="909.7715" y2="909.7715"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="115" x="206.5" y="894.2417">Send upd with any chits</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="123" x="206.5" y="905.2417">that got bumped in merge</text><path d="M113,931.7715 L175,931.7715 L175,939.082 L165,949.082 L113,949.082 L113,931.7715 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="535.1523" style="stroke:#000000;stroke-width:1.5;" width="365" x="113" y="931.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="128" y="945.3398">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82" x="190" y="944.4063">[Ack handling]</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="966.082" y2="962.082"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="966.082" y2="970.082"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="966.082" y2="966.082"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="46" x="206.5" y="961.5522">Send ack</text><path d="M133,981.082 L195,981.082 L195,988.3926 L185,998.3926 L133,998.3926 L133,981.082 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="66.3105" style="stroke:#000000;stroke-width:1.5;" width="335" x="133" y="981.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="148" y="994.6504">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="253" x="210" y="993.7168">[Does specified hash match our local values]</text><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="231.5" y1="1026.3926" y2="1026.3926"/><line style="stroke:#000000;stroke-width:1.0;" x1="231.5" x2="231.5" y1="1026.3926" y2="1039.3926"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="231.5" y1="1039.3926" y2="1039.3926"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1039.3926" y2="1035.3926"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1039.3926" y2="1043.3926"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="100" x="196.5" y="1010.8628">Set confIdx = endIdx</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="93" x="196.5" y="1021.8628">(ratchet confirmed)</text><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="1082.3926" y2="1078.3926"/><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="1082.3926" y2="1086.3926"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="1082.3926" y2="1082.3926"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="89" x="196.5" y="1066.8628">Send upd with any</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="101" x="196.5" y="1077.8628">chits beyond confIdx</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="113" x2="478" y1="1091.3926" y2="1091.3926"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82" x="118" y="1102.0273">[Nak handling]</text><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1122.3477" y2="1118.3477"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1122.3477" y2="1126.3477"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="1122.3477" y2="1122.3477"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="46" x="206.5" y="1117.8179">Send nak</text><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="231.5" y1="1158.3477" y2="1158.3477"/><line style="stroke:#000000;stroke-width:1.0;" x1="231.5" x2="231.5" y1="1158.3477" y2="1171.3477"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="231.5" y1="1171.3477" y2="1171.3477"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1171.3477" y2="1167.3477"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1171.3477" y2="1175.3477"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="106" x="196.5" y="1142.8179">Re-evaluate my chain</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="112" x="196.5" y="1153.8179">through specified index</text><path d="M123,1186.3477 L185,1186.3477 L185,1193.6582 L175,1203.6582 L123,1203.6582 L123,1186.3477 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="273.5762" style="stroke:#000000;stroke-width:1.5;" width="345" x="123" y="1186.3477"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="138" y="1199.916">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="263" x="200" y="1198.9824">[Is some portion of my chain corrupt/invalid?]</text><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="231.5" y1="1231.6582" y2="1231.6582"/><line style="stroke:#000000;stroke-width:1.0;" x1="231.5" x2="231.5" y1="1231.6582" y2="1244.6582"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="231.5" y1="1244.6582" y2="1244.6582"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1244.6582" y2="1240.6582"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1244.6582" y2="1248.6582"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="107" x="196.5" y="1216.1284">Set local confIdx back</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="93" x="196.5" y="1227.1284">to end of valid chits</text><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="1280.6582" y2="1276.6582"/><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="1280.6582" y2="1284.6582"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="1280.6582" y2="1280.6582"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="99" x="196.5" y="1265.1284">Send req for all chits</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="93" x="196.5" y="1276.1284">higher than confIdx</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123" x2="468" y1="1289.6582" y2="1289.6582"/><path d="M133,1297.6582 L195,1297.6582 L195,1304.9688 L185,1314.9688 L133,1314.9688 L133,1297.6582 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="155.2656" style="stroke:#000000;stroke-width:1.5;" width="293.5" x="133" y="1297.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="148" y="1311.2266">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="210" y="1310.293">[Foil holder]</text><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="231.5" y1="1342.9688" y2="1342.9688"/><line style="stroke:#000000;stroke-width:1.0;" x1="231.5" x2="231.5" y1="1342.9688" y2="1355.9688"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="231.5" y1="1355.9688" y2="1355.9688"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1355.9688" y2="1351.9688"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1355.9688" y2="1359.9688"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="80" x="196.5" y="1327.439">Enter error state</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="128" x="196.5" y="1338.439">Can't consense with stock</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="133" x2="426.5" y1="1364.9688" y2="1364.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="78" x="138" y="1375.6035">[Stock holder]</text><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="231.5" y1="1395.9238" y2="1395.9238"/><line style="stroke:#000000;stroke-width:1.0;" x1="231.5" x2="231.5" y1="1395.9238" y2="1408.9238"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="231.5" y1="1408.9238" y2="1408.9238"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1408.9238" y2="1404.9238"/><line style="stroke:#000000;stroke-width:1.0;" x1="190.5" x2="200.5" y1="1408.9238" y2="1412.9238"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="128" x="196.5" y="1391.394">Set confIdx back by factor</text><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="1444.9238" y2="1440.9238"/><line style="stroke:#000000;stroke-width:1.0;" x1="363.5" x2="353.5" y1="1444.9238" y2="1448.9238"/><line style="stroke:#000000;stroke-width:1.0;" x1="189.5" x2="364.5" y1="1444.9238" y2="1444.9238"/><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="99" x="196.5" y="1429.394">Send req for all chits</text><text fill="#333333" font-family="Helvetica" font-size="11" lengthAdjust="spacing" textLength="98" x="196.5" y="1440.394">beyond new confIdx</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="143" x="219.75" y="1564.5918">Fri Nov 10 11:32:24 MST 2023</text><!--SRC=[dLPDRzGm43rtVyLG8T5A53WZGLKjeFR0XoWIbroyyMnYSCR1TjZklsSyThBBbgXBBvjaOx-PzsRcEKyCrNRG2BNhEaSl-g6pYwVHH8jdozP4MBRA42mT1QGm1FZYNNIri-SBLKVduLHMtOGme3y55S38xKAhg5Og89pcT_3HQRJZ2ddOMtCxh7vW7VSMXM6L5pqhSJuuO-7QMLtYrDOWnSL2sGZV5KM8Zab8cWWU6-MreGO8Dr1pYWiecPrSl7rxCgRm-gHaf_gUyGByLjPmMhopec0QKd7mAD0JXcmyGBdIMbQabTRLol8JwrOHtzQ3LH4b4IHze- -Uf-kr2kqXtiZvzSathoXqZ3VqEaD1Xo6e1YjIrZ6lZOcjO4h64hmYZXwoaWkqBCEaIulrJmWzrcPjKEVdtXb-UxPfJTr2fxQmGdXr_hYSnYuw9CZNNA4bjvSYdVSwYhmx06LP0ySSmnp4v6szuW9aJLk6h5JS8s98unrlJo5IGEOHcLn2FC3SrUgMamB5UeY4Wl1Se7cJg9RkGJiCz2ncm0VXIFqDjyitWIOHSZqOd3iOOekmvdwU9_wU8dTbKkSid0DpJb7SUh-v2ktloFg8Z12LRp2oBBlrRl2bLabzOQOQZySfD0hosSCcHU6q-TUb2zUEBhYGQ-Cxr2N-9cdtkrJBRXyCaPf1LECiAyAxwDL4CBU5XF_a8B_BKLP3_Bj4GkYO4fLQp8f-TL_9DLlFePINZ72_de5jyUSyzaTan8A-ty8L9SRHi7CniwvFdiNkHeWQTIdnEoOguOk7N4zb_8ygFbwWkQefscP2R3mjSsfS50eob-mDJ7Xd05SyS2tte6M2YsDodeZlfhsT9bpKoAt2_ZUKTfunvrkCoNFMx4pmfbXKHMTUh2A_aYu-d-ZFEE0z-kplkILnwqYFGSgmVr97CyxIpwJ_5IymaKo7IBST3vROUZSqxOmNth1ihaFedK-jbTfttCfPUZ_qyQKXEJek7vAkJ6GHSCNLaOEcJCNk-Fb73Gway_XB1ehDOMoSrZJ9JRX_Q99lhryJ5pduMpduvR_PPBDdelSS8aIMgwAbIWOnVHP8tSP1BUvocnwFmj_leoG3hBQmbg-JV-rxc7lf6lb2cQYFBPX_PNx-0000]--></g></svg>